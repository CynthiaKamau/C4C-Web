(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d00f900"],{"4b24":function(e,t,i){"use strict";var a=i("52ef"),l=i.n(a);l.a},"52ef":function(e,t,i){},"89c9":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md11:""}},[i("material-card",{attrs:{color:"green",title:"Edit COVID 19 Resource ",text:"Kindly fill all the required fields carefully"}},[i("v-card-text",[i("div"),e._v(" "),i("p",{staticClass:"display-1 text--primary"},[e._v("\n            Edit COVID 19 Resource\n          ")])]),e._v(" "),i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.editCovid19},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-container",{attrs:{"py-0":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-text-field",{staticClass:"purple-input",attrs:{id:"title",rules:e.titleRules,required:"",label:"Title"},model:{value:e.covid19.title,callback:function(t){e.$set(e.covid19,"title",t)},expression:"covid19.title"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("ckeditor",{attrs:{id:"editorData",editor:e.editor,rules:e.bodyRules,config:e.editorConfig,placeholder:"Write here",required:""},model:{value:e.covid19.body,callback:function(t){e.$set(e.covid19,"body",t)},expression:"covid19.body"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Image:")]),e._v(" "),i("input",{ref:"file",attrs:{id:"file",value:"file",accept:"image/*",type:"file"},on:{change:function(t){e.handleImageChange()}}}),e._v(" "),i("v-img",{staticClass:"white--text align-end",attrs:{src:e.covid19.file,height:"400px"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.showPreview,expression:"showPreview"}],attrs:{src:e.imagePreview}})]),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Documents:")]),e._v(" "),i("input",{ref:"files",attrs:{value:"files",id:"files",type:"file",multiple:""},on:{change:function(t){e.handleFiles()}}}),e._v(" "),e._l(e.covid19.files,(function(t){return i("v-list",{key:t,staticClass:"file-listing"},[e._v(" "+e._s(t.file_name)+"\n                    "),i("span",{staticClass:"remove-file",on:{click:function(t){e.removeFile(e.key)}}},[e._v(" Remove ")])])})),e._v(" "),e._l(e.files,(function(t,a){return i("v-card",{key:t.id,staticClass:"file-listing"},[e._v(e._s(t.name)+" \n                  "),i("span",{staticClass:"remove-file",on:{click:function(t){e.removeFile(a)}}},[e._v(" Remove ")])])}))],2),e._v(" "),i("v-flex",{attrs:{xs12:"","text-xs-right":""}},[i("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{disabled:!e.valid,color:"success",type:"submit"},on:{click:function(t){e.validateData(),e.alert=!e.alert,e.dialog1=!0}}},[e._v("\n                  Save\n                ")]),e._v(" "),i("v-dialog",{attrs:{"max-width":"290",lazy:""},model:{value:e.dialog1,callback:function(t){e.dialog1=t},expression:"dialog1"}},[i("v-card",[i("v-card-text",{staticClass:"text-xs-center"},[i("v-progress-circular",{staticClass:"primary--text",attrs:{size:70,indeterminate:""}})],1)],1)],1),e._v(" "),i("v-alert",{attrs:{value:e.alert,icon:"mdi-alert",dismissible:"",outline:"",color:"error",elevation:"2"}},[i("h6",[e._v(" "+e._s(e.output.error)+" "+e._s(e.output.message)+" ")])])],1)],1)],1)],1)],1)],1)],1)],1)},l=[],s=i("bc3a"),r=i.n(s),n=i("fb3d"),o=i.n(n);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={data:function(){var e;return e={editor:o.a,editorConfig:{},titleRules:[function(e){return!!e||"Title is required"}],bodyRules:[function(e){return!!e||"Fill in the required text"}],dialog1:!1,result:"",valid:!0,output:"",alert:!1,covid19:{body:"",title:""},file:"",files:[],showPreview:!1,imagePreview:""},c(e,"covid19",""),c(e,"resp",""),e},watch:{dialog1:function(e){var t=this;e&&setTimeout((function(){return t.dialog1=!1}),8e3)}},created:function(){this.getCovid()},methods:{validateData:function(){this.$refs.form.validate()},handleImageChange:function(e){this.file=this.$refs.file.files[0];var t=new FileReader;t.addEventListener("load",function(){this.showPreview=!0,this.imagePreview=t.result}.bind(this),!1),this.file&&/\.(jpe?g|png|gif)$/i.test(this.file.name)&&t.readAsDataURL(this.file)},handleFiles:function(){for(var e=this.$refs.files.files,t=0;t<e.length;t++)this.files.push(e[t])},removeFile:function(e){this.files.splice(e,1)},getCovid:function(){var e=this,t=this.$route.params.id;r.a.get("resources/special/"+t).then((function(t){e.covid19=t.data.data})).catch((function(e){console.log(e.message)}))},editCovid19:function(e){var t=this;e.preventDefault();for(var i=new FormData,a=0;a<this.files.length;a++){var l=this.files[a];i.append("resource_files["+a+"]",l)}i.append("image_file",this.file),i.append("title",this.covid19.title),i.append("body",this.covid19.body),i.append("special_resource_id",this.covid19.id),r.a.post("resources/special/update",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.output=e.data,t.alert=!0,t.$router.push("/covid19_resources")})).catch((function(e){t.output=e,t.alert=!0}))}}},u=d,v=(i("4b24"),i("2877")),f=Object(v["a"])(u,a,l,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1d00f900.e8f6c12a.js.map