(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba3d3dbe"],{"0319":function(t,e,i){var n,a;(function(s){t.exports?(s["default"]=s,t.exports=s):(n=[i("ea7f")],a=function(t){return s(t),s.Highcharts=t,s}.apply(e,n),void 0===a||(t.exports=a))})((function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}t=t?t._modules:{},e(t,"modules/full-screen.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var i=e.addEvent;e=t.Chart;var n=function(){function t(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"===typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return t.prototype.close=function(){var t=this.chart;this.isOpen&&this.browserProps&&t.container.ownerDocument instanceof Document&&t.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},t.prototype.open=function(){var t=this,e=t.chart;if(t.browserProps){t.unbindFullscreenEvent=i(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(t.isOpen=!0,t.setButtonText())}));var n=e.renderTo[t.browserProps.requestFullscreen]();n&&n["catch"]((function(){alert("Full screen is not supported inside a frame.")})),i(e,"destroy",t.unbindFullscreenEvent)}},t.prototype.setButtonText=function(){var t,e=this.chart,i=e.exportDivElements,n=e.options.exporting,a=null===(t=null===n||void 0===n?void 0:n.buttons)||void 0===t?void 0:t.contextButton.menuItems;t=e.options.lang,null!==n&&void 0!==n&&n.menuItemDefinitions&&null!==t&&void 0!==t&&t.exitFullscreen&&t.viewFullscreen&&a&&i&&i.length&&(i[a.indexOf("viewFullscreen")].innerHTML=this.isOpen?t.exitFullscreen:n.menuItemDefinitions.viewFullscreen.text||t.viewFullscreen)},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t}();return t.Fullscreen=n,i(e,"beforeRender",(function(){this.fullscreen=new t.Fullscreen(this)})),t.Fullscreen})),e(t,"mixins/navigation.js",[],(function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,e){this.updates.forEach((function(i){i.update.call(i.context,t,e)}))}})},addUpdate:function(t,e){e.navigation||this.initUpdate(e),e.navigation.updates.push({update:t,context:e})}}})),e(t,"modules/exporting.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/navigation.js"]],(function(t,e,i){var n=e.addEvent,a=e.css,s=e.createElement,o=e.discardElement,r=e.extend,l=e.find,c=e.fireEvent,u=e.isObject,p=e.merge,h=e.objectEach,d=e.pick,f=e.removeEvent,m=e.uniqueKey,v=t.defaultOptions,g=t.doc,x=t.Chart,b=t.isTouchDevice,y=t.win,_=y.navigator.userAgent,C=t.SVGRenderer,w=t.Renderer.prototype.symbols,O=/Edge\/|Trident\/|MSIE /.test(_),P=/firefox/i.test(_);r(v.lang,{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),v.navigation||(v.navigation={}),p(!0,v.navigation,{buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}}),p(!0,v.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:b?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}}}),v.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},t.post=function(t,e,i){var n=s("form",p({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},g.body);h(e,(function(t,e){s("input",{type:"hidden",name:e,value:t},null,n)})),n.submit(),o(n)},t.isSafari&&t.win.matchMedia("print").addListener((function(e){t.printingChart&&(e.matches?t.printingChart.beforePrint():t.printingChart.afterPrint())})),r(x.prototype,{sanitizeSVG:function(t,e){var i=t.indexOf("</svg>")+6,n=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&n&&(n='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n+"</body></foreignObject>",t=t.replace("</svg>",n+"</svg>")),t=t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(t=this.ieSanitizeSVG(t)),t},getChartHTML:function(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML},getSVG:function(e){var i,n=p(this.options,e);n.plotOptions=p(this.userOptions.plotOptions,e&&e.plotOptions),n.time=p(this.userOptions.time,e&&e.time);var a=s("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},g.body),u=this.renderTo.style.width,h=this.renderTo.style.height;u=n.exporting.sourceWidth||n.chart.width||/px$/.test(u)&&parseInt(u,10)||(n.isGantt?800:600),h=n.exporting.sourceHeight||n.chart.height||/px$/.test(h)&&parseInt(h,10)||400,r(n.chart,{animation:!1,renderTo:a,forExport:!0,renderer:"SVGRenderer",width:u,height:h}),n.exporting.enabled=!1,delete n.data,n.series=[],this.series.forEach((function(t){i=p(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),i.isInternal||n.series.push(i)})),this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=m())}));var d=new t.Chart(n,this.callback);return e&&["xAxis","yAxis","series"].forEach((function(t){var i={};e[t]&&(i[t]=e[t],d.update(i))})),this.axes.forEach((function(t){var e=l(d.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey})),i=t.getExtremes(),n=i.userMin;i=i.userMax,e&&("undefined"!==typeof n&&n!==e.min||"undefined"!==typeof i&&i!==e.max)&&e.setExtremes(n,i,!0,!1)})),u=d.getChartHTML(),c(this,"getSVG",{chartCopy:d}),u=this.sanitizeSVG(u,n),n=null,d.destroy(),o(a),u},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},getFilename:function(){var t=this.userOptions.title&&this.userOptions.title.text,e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"===typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||5>e.length)&&(e="chart"),e)},exportChart:function(e,i){i=this.getSVGForExport(e,i),e=p(this.options.exporting,e),t.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width||0,scale:e.scale,svg:i},e.formAttributes)},moveContainers:function(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))},beforePrint:function(){var t=g.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),c(this,"beforePrint"),e&&this.chartWidth>e&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i},afterPrint:function(){if(this.printReverseInfo){var e=this.printReverseInfo.childNodes,i=this.printReverseInfo.origDisplay,n=this.printReverseInfo.resetParams;this.moveContainers(this.renderTo),[].forEach.call(e,(function(t,e){1===t.nodeType&&(t.style.display=i[e]||"")})),this.isPrinting=!1,n&&this.setSize.apply(this,n),delete this.printReverseInfo,delete t.printingChart,c(this,"afterPrint")}},print:function(){var e=this;e.isPrinting||(t.printingChart=e,t.isSafari||e.beforePrint(),setTimeout((function(){y.focus(),y.print(),t.isSafari||setTimeout((function(){e.afterPrint()}),1e3)}),1))},contextMenu:function(t,i,o,l,p,h,d){var f=this,m=f.options.navigation,v=f.chartWidth,x=f.chartHeight,b="cache-"+t,_=f[b],C=Math.max(p,h);if(!_){f.exportContextMenu=f[b]=_=s("div",{className:t},{position:"absolute",zIndex:1e3,padding:C+"px",pointerEvents:"auto"},f.fixedDiv||f.container);var w=s("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},_);f.styledMode||a(w,r({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},m.menuStyle)),_.hideMenu=function(){a(_,{display:"none"}),d&&d.setState(0),f.openMenu=!1,a(f.renderTo,{overflow:"hidden"}),e.clearTimeout(_.hideTimer),c(f,"exportMenuHidden")},f.exportEvents.push(n(_,"mouseleave",(function(){_.hideTimer=y.setTimeout(_.hideMenu,500)})),n(_,"mouseenter",(function(){e.clearTimeout(_.hideTimer)})),n(g,"mouseup",(function(e){f.pointer.inClass(e.target,t)||_.hideMenu()})),n(_,"click",(function(){f.openMenu&&_.hideMenu()}))),i.forEach((function(t){if("string"===typeof t&&(t=f.options.exporting.menuItemDefinitions[t]),u(t,!0)){if(t.separator)var e=s("hr",null,null,w);else e=s("li",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),_.hideMenu(),t.onclick&&t.onclick.apply(f,arguments)},innerHTML:t.text||f.options.lang[t.textKey]},null,w),f.styledMode||(e.onmouseover=function(){a(this,m.menuItemHoverStyle)},e.onmouseout=function(){a(this,m.menuItemStyle)},a(e,r({cursor:"pointer"},m.menuItemStyle)));f.exportDivElements.push(e)}})),f.exportDivElements.push(w,_),f.exportMenuWidth=_.offsetWidth,f.exportMenuHeight=_.offsetHeight}i={display:"block"},o+f.exportMenuWidth>v?i.right=v-o-p-C+"px":i.left=o-C+"px",l+h+f.exportMenuHeight>x&&"top"!==d.alignOptions.verticalAlign?i.bottom=x-l-C+"px":i.top=l+h-C+"px",a(_,i),a(f.renderTo,{overflow:""}),f.openMenu=!0,c(f,"exportMenuShown")},addButton:function(t){var e=this,i=e.renderer,n=p(e.options.navigation.buttonOptions,t),a=n.onclick,s=n.menuItems,o=n.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),!1!==n.enabled){var l,c=n.theme,u=c.states,h=u&&u.hover;u=u&&u.select,e.styledMode||(c.fill=d(c.fill,"#ffffff"),c.stroke=d(c.stroke,"none")),delete c.states,a?l=function(t){t&&t.stopPropagation(),a.call(e,t)}:s&&(l=function(t){t&&t.stopPropagation(),e.contextMenu(f.menuClassName,s,f.translateX,f.translateY,f.width,f.height,f),f.setState(2)}),n.text&&n.symbol?c.paddingLeft=d(c.paddingLeft,25):n.text||r(c,{width:n.width,height:n.height,padding:0}),e.styledMode||(c["stroke-linecap"]="round",c.fill=d(c.fill,"#ffffff"),c.stroke=d(c.stroke,"none"));var f=i.button(n.text,0,0,l,c,h,u).addClass(t.className).attr({title:d(e.options.lang[n._titleKey||n.titleKey],"")});if(f.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++,n.symbol){var m=i.symbol(n.symbol,n.symbolX-o/2,n.symbolY-o/2,o,o,{width:o,height:o}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(f);e.styledMode||m.attr({stroke:n.symbolStroke,fill:n.symbolFill,"stroke-width":n.symbolStrokeWidth||1})}f.add(e.exportingGroup).align(r(n,{width:f.width,x:d(n.x,e.buttonOffset)}),!0,"spacingBox"),e.buttonOffset+=(f.width+n.buttonSpacing)*("right"===n.align?-1:1),e.exportSVGElements.push(f,m)}},destroyExport:function(t){var i=t?t.target:this;t=i.exportSVGElements;var n,a=i.exportDivElements,s=i.exportEvents;t&&(t.forEach((function(t,e){t&&(t.onclick=t.ontouchstart=null,n="cache-"+t.menuClassName,i[n]&&delete i[n],i.exportSVGElements[e]=t.destroy())})),t.length=0),i.exportingGroup&&(i.exportingGroup.destroy(),delete i.exportingGroup),a&&(a.forEach((function(t,n){e.clearTimeout(t.hideTimer),f(t,"mouseleave"),i.exportDivElements[n]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,o(t)})),a.length=0),s&&(s.forEach((function(t){t()})),s.length=0)}}),C.prototype.inlineToAttributes="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" "),C.prototype.inlineBlacklist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],C.prototype.unstyledElements=["clipPath","defs","desc"],x.prototype.inlineStyles=function(){function t(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function e(n){function a(e,i){if(d=f=!1,r){for(m=r.length;m--&&!f;)f=r[m].test(i);d=!f}for("transform"===i&&"none"===e&&(d=!0),m=o.length;m--&&!d;)d=o[m].test(i)||"function"===typeof e;d||x[i]===e&&"svg"!==n.nodeName||c[n.nodeName][i]===e||(-1!==s.indexOf(i)?n.setAttribute(t(i),e):v+=t(i)+":"+e+";")}var d,f,m,v="";if(1===n.nodeType&&-1===l.indexOf(n.nodeName)){var g=y.getComputedStyle(n,null),x="svg"===n.nodeName?{}:y.getComputedStyle(n.parentNode,null);if(!c[n.nodeName]){i=u.getElementsByTagName("svg")[0];var b=u.createElementNS(n.namespaceURI,n.nodeName);i.appendChild(b),c[n.nodeName]=p(y.getComputedStyle(b,null)),"text"===n.nodeName&&delete c.text.fill,i.removeChild(b)}if(P||O)for(var _ in g)a(g[_],_);else h(g,a);v&&(g=n.getAttribute("style"),n.setAttribute("style",(g?g+";":"")+v)),"svg"===n.nodeName&&n.setAttribute("stroke-width","1px"),"text"!==n.nodeName&&[].forEach.call(n.children||n.childNodes,e)}}var i,n=this.renderer,s=n.inlineToAttributes,o=n.inlineBlacklist,r=n.inlineWhitelist,l=n.unstyledElements,c={};n=g.createElement("iframe"),a(n,{width:"1px",height:"1px",visibility:"hidden"}),g.body.appendChild(n);var u=n.contentWindow.document;u.open(),u.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),u.close(),e(this.container.querySelector("svg")),i.parentNode.removeChild(i)},w.menu=function(t,e,i,n){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+n/2+.5],["L",t+i,e+n/2+.5],["M",t,e+n-1.5],["L",t+i,e+n-1.5]]},w.menuball=function(t,e,i,n){return t=[],n=n/3-2,t.concat(this.circle(i-n,e,n,n),this.circle(i-n,e+n+4,n,n),this.circle(i-n,e+2*(n+4),n,n))},x.prototype.renderExporting=function(){var t=this,e=t.options.exporting,i=e.buttons,a=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),a&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),h(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1),n(t,"destroy",t.destroyExport)},n(x,"init",(function(){var t=this;t.exporting={update:function(e,i){t.isDirtyExporting=!0,p(!0,t.options.exporting,e),d(i,!0)&&t.redraw()}},i.addUpdate((function(e,i){t.isDirtyExporting=!0,p(!0,t.options.navigation,e),d(i,!0)&&t.redraw()}),t)})),x.prototype.callbacks.push((function(t){t.renderExporting(),n(t,"redraw",t.renderExporting)}))})),e(t,"masters/modules/exporting.src.js",[],(function(){}))}))},a3cd:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{sm3:"",xs8:"",md4:"",lg3:""}},[[i("v-card",{staticClass:"mx-auto",attrs:{color:"#4B9FD2",dark:""}},[i("v-card-text",[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-account-group")]),t._v(" "),i("h3",{attrs:{align:"center"}},[t._v(t._s(t.totalExposuresCount))]),t._v(" "),i("h6",{attrs:{align:"center"}},[t._v("Total Exposures")])],1)],1)]],2),t._v(" "),i("v-flex",{attrs:{sm3:"",xs8:"",md3:"",lg3:""}},[[i("v-card",{staticClass:"mx-auto",attrs:{color:"#4B9FD2",dark:""}},[i("v-card-text",[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-file-chart")]),t._v(" "),i("h3",{attrs:{align:"center"}},[t._v(t._s(t.totalFacilityCount))]),t._v(" "),i("h6",{attrs:{align:"center"}},[t._v("Facility Exposures")])],1)],1)]],2),t._v(" "),i("v-flex",{attrs:{sm3:"",xs8:"",md3:"",lg3:""}},[[i("v-card",{staticClass:"mx-auto",attrs:{color:"#4B9FD2",dark:""}},[i("v-card-text",[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-movie-roll")]),t._v(" "),i("h3",{attrs:{align:"center"}},[t._v(t._s(t.totalCommunityCount))]),t._v(" "),i("h6",{attrs:{align:"center"}},[t._v("Community Exposures")])],1)],1)]],2)],1),t._v(" "),i("v-layout",{attrs:{"justify-center":"",wrap:""}},[5===t.user.role_id?i("v-flex",{attrs:{xs10:"",md2:""}},[i("v-combobox",{attrs:{disabled:"",chips:""},model:{value:this.user.county,callback:function(e){t.$set(this.user,"county",e)},expression:"this.user.county"}})],1):t._e(),t._v(" "),1===t.user.role_id||2===t.user.role_id?i("v-flex",{attrs:{xs12:"",md3:""}},[[i("v-combobox",{attrs:{items:t.all_counties,"item-text":"name","item-value":"id",label:"Select County",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.getSubCounties}})]],2):t._e(),t._v(" "),4!==t.user.role_id?i("v-flex",{attrs:{xs12:"",md3:""}},[[i("v-combobox",{attrs:{items:t.all_subcounties,"item-text":"name","item-value":"id",label:"Select Sub-County",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.getFacilitysubcountyfilter},model:{value:t.subcounties,callback:function(e){t.subcounties=e},expression:"subcounties"}})]],2):t._e(),t._v(" "),4!==t.user.role_id?i("v-flex",{attrs:{xs12:"",md3:""}},[[i("v-combobox",{attrs:{items:t.all_facilities_level,disabled:t.active_level,label:"Select Facility Level",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.getFacilitylevelfilter}})]],2):t._e(),t._v(" "),4!==t.user.role_id?i("v-flex",{attrs:{xs12:"",md3:""}},[i("v-combobox",{attrs:{items:t.fac,"item-text":"name","item-value":"id",label:"Select Facility",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.getFacilityfilter},model:{value:t.facility,callback:function(e){t.facility=e},expression:"facility"}})],1):t._e(),t._v(" "),[4===t.user.role_id?i("v-flex",{attrs:{xs12:"",md3:""}},[i("v-combobox",{attrs:{items:t.cadres,"item-text":"name","item-value":"id",label:"Select Cadre",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.cadreFilter}})],1):t._e(),t._v(" "),i("v-flex",{attrs:{xs12:"",md3:""}},[[i("v-combobox",{attrs:{items:t.transmission_mode,"item-text":"name","item-value":"name",label:"Select Transmission Mode",multiple:"",clearable:"","persistent-hint":"",chips:""},on:{change:t.getTransmissionModeFilter},model:{value:t.transmissionMode,callback:function(e){t.transmissionMode=e},expression:"transmissionMode"}})]],2),t._v(" "),i("v-flex",{attrs:{xs12:"",md2:""}},[i("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.startDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.startDate=e}},model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[i("v-text-field",{attrs:{slot:"activator",label:"Start Date","prepend-icon":"mdi-calendar",readonly:""},slot:"activator",model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),i("v-date-picker",{attrs:{dark:!0,max:t.endDate,min:t.minDate,"no-title":"",scrollable:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu1=!1}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.click(),t.$refs.menu1.save(t.startDate),t.click}}},[t._v("OK")])],1)],1)],1),t._v(" "),i("v-flex",{attrs:{xs12:"",md2:""}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.endDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.endDate=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-text-field",{attrs:{slot:"activator",label:"End Date","prepend-icon":"mdi-calendar",readonly:""},slot:"activator",model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),i("v-date-picker",{attrs:{dark:!0,max:t.maxDate,min:t.startDate,"no-title":"",scrollable:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.click(),t.$refs.menu.save(t.endDate)}}},[t._v("OK")])],1)],1)],1)]],2),t._v(" "),i("v-card",[i("v-tabs",{attrs:{color:"teal lighten-5",centered:""}},[i("v-tab",[t._v("Report By Month")]),t._v(" "),i("v-tab",[t._v("Report By Cadre")]),t._v(" "),i("v-tab",[t._v("Report By Gender")]),t._v(" "),i("v-tab",[t._v("Report By Age")]),t._v(" "),i("v-tab",[t._v("Transmission Report")]),t._v(" "),i("v-tab",[t._v("Report By Procedure")]),t._v(" "),i("v-tab",[t._v("PPE Present")]),t._v(" "),i("v-tab",[t._v("PPE Worn")]),t._v(" "),i("v-tab",[t._v("IPC Training")]),t._v(" "),i("v-tab",[t._v("IPC Training Period")]),t._v(" "),t._l(10,(function(e){return i("v-tab-item",{key:e},[i("v-container",{attrs:{fluid:""}},[1===e?i("v-card-text",[i("v-container",{attrs:{"py-0":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsMonth}})],1)])],1)],1)],1):t._e(),t._v(" "),2===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsCadre}})],1)]):t._e(),t._v(" "),3===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsGender}})],1)]):t._e(),t._v(" "),4===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsAge}})],1)]):t._e(),t._v(" "),5===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsTransmission}})],1)]):t._e(),t._v(" "),6===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsProcedure}})],1)]):t._e(),t._v(" "),7===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsPpePresent}})],1)]):t._e(),t._v(" "),8===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsPpe}})],1)]):t._e(),t._v(" "),9===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsIpc}})],1)]):t._e(),t._v(" "),10===e?i("v-card-text",[i("div",{staticClass:"card vld-parent"},[i("loading",{attrs:{active:t.isLoading,"can-cancel":!1,"is-full-page":!1,loader:"bars",color:"#007bff"},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),i("highcharts",{ref:"barChart",refInFor:!0,attrs:{options:t.barOptionsIpcTraining}})],1)]):t._e()],1)],1)}))],2)],1)],1)],1)},a=[],s=i("4795"),o=i.n(s),r=i("4452"),l=i("ea7f"),c=i.n(l),u=i("0319"),p=i.n(u),h=i("bc3a"),d=i.n(h),f=i("2f62"),m=(i("c1df"),i("9062")),v=i.n(m);i("e40d");function g(t,e,i,n,a,s,o){try{var r=t[s](o),l=r.value}catch(c){return void i(c)}r.done?e(l):Promise.resolve(l).then(n,a)}function x(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var s=t.apply(e,i);function o(t){g(s,n,a,o,r,"next",t)}function r(t){g(s,n,a,o,r,"throw",t)}o(void 0)}))}}function b(t){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){C(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function C(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}p()(c.a);var w={computed:_({cadreCount:function(){return this.c},totalExposuresCount:function(){return this.exposures_total},totalFacilityCount:function(){return this.facility_exposures},totalCommunityCount:function(){return this.community_exposures}},Object(f["c"])({user:"auth/user",auth:"auth/token",all_users:"auth/us_all",us_no:"auth/us_no",next_link:"auth/next_link",curr:"auth/curr_page",last:"auth/last_page"})),components:{highcharts:r["Chart"],Loading:v.a},data:function(){return{isLoading:!0,partner:"",cadres:[],facility:"",counties:"",subcounties:"",all_facilities_level:["Level 1","Level 2","Level 3","Level 4","Level 5 and Above"],all_facilities:[],all_subcounties:[],all_counties:[],all_partners:[],fac:[],active:!0,active_fac:!0,active_level:!0,menu:!1,menu1:!1,startDate:"2020-03-01",maxDate:(new Date).toISOString().substr(0,10),minDate:"2020-03-01",endDate:(new Date).toISOString().substr(0,10),value:!0,value1:!0,load:!0,fac_filt:[],fac_filtl:[],fac_filtf:[],exp_filt:[],exp_filtl:[],exp_filtf:[],exp_filttm:[],s:[],transmission_mode:["Facility","Community"],transmissionMode:[],filteredCommunity:[],filteredFacility:[],cadre:[],dob:[],date:[],users:[],gender:[],hours:[],exposures_total:0,facility_exposures:0,community_exposures:0,barOptionsMonth:{xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],title:{text:"Year -  Month"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No. Of Reported Exposures by Months"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsProcedure:{xAxis:{categories:["Direct care","Aerosol generating activity","Face to face contact with suspected/confirmed case","Other"],title:{text:"Procedures"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No. Of Reported Exposures by Procedure Being Done"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsTransmission:{xAxis:{categories:["Colleague","Patient","Client","Family Member","Community Member","Unknown"],title:{text:"Source"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"HCWs Exposure Sources"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsIpc:{xAxis:{categories:["Yes","No"],title:{text:"HCW IPC Training"}},yAxis:{min:0,title:{text:"No. of Health Care Workers ",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No Of HCWS Who Have Received IPC Training"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsIpcTraining:{xAxis:{categories:["0 - 1 Years","1 - 2 Years","3 - 5 Years","5 Years and Above"],title:{text:"HCW IPC Training Period in Years"}},yAxis:{min:0,title:{text:"No. of Health Care Workers",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"HCWS IPCTraining Period in Years"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsCadre:{xAxis:{categories:["Cleaner","Clinical officer","Doctor","Laboratory Technologist","Nurse","Other","Student","VCT Counsellor","Waste Handler"],title:{text:"Cadre"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No. Of Reported Exposures by Cadre"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsGender:{xAxis:{categories:["MALE","FEMALE","UNDEFINED"],title:{text:"Gender"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No. Of Reported Exposures by Gender"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsAge:{xAxis:{categories:["18 - 25","26 - 35","36 - 45","46 - 55","56 - 65","65 and Above","Not Specified"],title:{text:"Age Groups"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No. Of Reported Exposures by Age"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsPpePresent:{xAxis:{categories:["Yes","No"],title:{text:"HCW With PPES"}},yAxis:{min:0,title:{text:"No. of Exposures ",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No of HCWs with PPE Worn"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]},barOptionsPpe:{xAxis:{categories:["None","Gloves","Fabric mask","N95 mask (or equivalent)","Surgical/medical mask","Face shield or goggles/protective glasses","Disposable gown","Waterproof apron"],title:{text:"Types of Personal Protective Equipment"}},yAxis:{min:0,title:{text:"No. of Exposures",align:"high"},labels:{overflow:"justify",items:[{html:"",style:{left:"50px",top:"18px",color:c.a.theme&&c.a.theme.textColor||"black"}}]}},plotOptions:{column:{dataLabels:{enabled:!0}}},chart:{type:"column"},title:{text:"No of HCWs with PPEs"},series:[{colorByPoint:!0,name:"Numbers",data:[]}]}}},created:function(){var t=this;this.getcovidExpo(),this.getCounties(),this.getFacilities(),this.dateRange("2020-01-20",this.endDate),d.a.get("cadres").then((function(e){t.cadres=e.data.data}))},methods:{click:function(){var t=[],e={convert:function(t){return t.constructor===Date?t:t.constructor===Array?new Date(t[0],t[1],t[2]):t.constructor===Number||t.constructor===String?new Date(t):"object"===b(t)?new Date(t.year,t.month,t.date):NaN},inRange:function(t,e,i){return isFinite(t=this.convert(t).valueOf())&&isFinite(e=this.convert(e).valueOf())&&isFinite(i=this.convert(i).valueOf())?e<=t&&t<=i:NaN}};for(var i in this.s){var n=new Date(this.s[i].created_at).toISOString().substr(0,10);e.inRange(n,this.startDate,this.endDate)&&t.push(this.s[i])}this.getcovidData(t)},getFacilities:function(){var t=this;d.a.get("facilities").then((function(e){t.all_facilities=e.data.data,5===t.user.role_id&&t.subCounties()})).catch((function(t){return console.log(t.message)}))},getCounties:function(){var t=this;d.a.get("counties").then((function(e){t.all_counties=e.data.data})).catch((function(t){return console.log(t.message)}))},subCounties:function(){var t=this;d.a.get("counties").then((function(e){for(var i in e.data.data)t.user.hcw.county===e.data.data[i].name&&t.getSubCounties([e.data.data[i]])})).catch((function(t){return console.log(t.message)}))},getSubCounties:function(t){var e=this;if(t.length>0){for(var i in this.active=!1,this.all_subcounties=[],t)d.a.get("subcounties/".concat(t[i].id)).then((function(t){e.all_subcounties=e.all_subcounties.concat(t.data.data)})).catch((function(t){return console.log(t.message)}));this.getFacilitycountyfilter(t)}else this.active=!0,this.getFacilitycountyfilter(t)},getFacilitycountyfilter:function(t){if(this.fac_filt=[],this.exp_filt=[],t.length>0){for(var e in t){for(var i in this.all_facilities)this.all_facilities[i].county===t[e].name&&this.fac_filt.push(this.all_facilities[i]);for(var n in this.s)this.s[n].county===t[e].name&&this.exp_filt.push(this.s[n])}this.getcovidData(this.exp_filt),this.fac=this.fac_filt.sort()}else this.getcovidData(this.s),this.fac=this.all_facilities},getFacilitysubcountyfilter:function(t){if(this.exp_filtl=[],this.fac_filtl=[],this.active_level=!1,t.length>0){for(var e in t){for(var i in this.fac_filt)this.fac_filt[i].sub_county===t[e].name&&this.fac_filtl.push(this.fac_filt[i]);for(var n in this.exp_filt)this.exp_filt[n].sub_county===t[e].name&&this.exp_filtl.push(this.exp_filt[n])}this.getcovidData(this.exp_filtl),this.fac=this.fac_filtl.sort()}else this.getcovidData(this.exp_filt),this.fac=this.fac_filt,this.active_level=!0},getFacilitylevelfilter:function(t){if(this.fac_filtf=[],this.exp_filtf=[],this.active_fac=!1,t.length>0){for(var e in t){for(var i in this.fac_filtl)(this.fac_filtl[i].level==t[e]||"Level 5 and Above"===t[e]&&Number(this.fac_filtl[i].level.slice(6,7))>=5)&&this.fac_filtf.push(this.fac_filtl[i]);for(var n in this.exp_filtl)(this.exp_filtl[n].facility_level===t[e]||"Level 5 and Above"===t[e]&&Number(this.exp_filtl[n].facility_level.slice(6,7))>=5)&&this.exp_filtf.push(this.exp_filtl[n])}this.getcovidData(this.exp_filtf),this.fac=this.fac_filtf.sort()}else this.getcovidData(this.exp_filtl),this.fac=this.fac_filtl,this.active_fac=!0},getFacilityfilter:function(t){var e=[];if(t.length>0){for(var i in t)for(var n in this.exp_filtf)this.exp_filtf[n].facility===t[i].name&&e.push(this.exp_filtf[n]);this.getcovidData(e)}else this.getcovidData(this.exp_filtf)},getTransmissionModeFilter:function(t){this.fac_filt=[];var e=[];if(t.length>0){for(var i in t)if(this.exp_filt.length>0)for(var n in this.exp_filt)this.exp_filt[n].transmission_mode===t[i]&&e.push(this.exp_filt[n]);else if(this.exp_filtl.length>0)for(var n in this.exp_filtl)this.exp_filtl[n].transmission_mode===t[i]&&e.push(this.exp_filtl[n]);else if(this.exp_filtf.length>0)for(var n in this.exp_filtf)this.exp_filtf[n].transmission_mode===t[i]&&e.push(this.exp_filtf[n]);else for(var a in this.s)this.s[a].transmission_mode===t[i]&&e.push(this.s[a]);this.getcovidData(e),this.fac=this.fac_filt.sort()}else this.fac=this.all_facilities,this.exp_filt.length>0?this.getcovidData(this.exp_filt):this.exp_filtl.length>0?this.getcovidData(this.exp_filtl):this.exp_filtf.length>0?this.getcovidData(this.exp_filtf):this.getcovidData(this.s)},cadreFilter:function(t){if(this.fac_filt=[],this.exp_filt=[],t.length>0){for(var e in t)for(var i in this.s)this.s[i].cadre===t[e].name&&this.exp_filt.push(this.s[i]);this.getcovidData(this.exp_filt),this.fac=this.fac_filt.sort()}else this.fac=this.all_facilities,this.getcovidData(this.s)},getcovidExpo:function(){var t=this;1===this.user.role_id||2===this.user.role_id?d.a.get("exposures/covid/all").then((function(e){t.s=e.data.data;var i=e.data.data;t.exposures_total=e.data.meta.total,t.community_exposures=i.filter((function(t){return t.transmission_mode.includes("Community")})).length,t.facility_exposures=i.filter((function(t){return t.transmission_mode.includes("Facility")})).length,null!=e.data.links.next?(t.link=e.data.links.next,t.loopT(t.link)):t.getcovidData(t.s)})).catch((function(t){return console.log(t.message)})):5===this.user.role_id?d.a.get("exposures/covid/all").then((function(e){t.s=e.data.data;var i=e.data.data;t.exposures_total=i.filter((function(e){return e.county===t.user.county})).length,t.community_exposures=i.filter((function(e){return e.transmission_mode.includes("Community")&&e.county===t.user.county})).length,t.facility_exposures=i.filter((function(e){return e.transmission_mode.includes("Facility")&&e.county===t.user.county})).length,null!=e.data.links.next?(t.link=e.data.links.next,t.loopT(t.link)):t.getcovidData(t.s)})).catch((function(t){return console.log(t.message)})):4===this.user.role_id&&d.a.get("exposures/covid/facility/".concat(this.user.hcw.facility_id)).then((function(e){t.s=e.data.data;var i=e.data.data;t.exposures_total=e.data.meta.total,t.filteredCommunity=i.filter((function(t){return t.transmission_mode.includes("Community")})),t.community_exposures=t.filteredCommunity.length,t.filteredFacility=i.filter((function(t){return t.transmission_mode.includes("Facility")})),t.facility_exposures=t.filteredFacility.length,null!=e.data.links.next?(t.link=e.data.links.next,t.loopT(t.link)):t.getcovidData(t.s)})).catch((function(t){return console.log(t.message)}))},loopT:function(t){var e=this;return x(o.a.mark((function i(){var n,a,s;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=[],n=0;case 2:if(!(n<1)){i.next=14;break}if(null==t){i.next=11;break}return i.next=6,d.a.get(t);case 6:s=i.sent,t=s.data.links.next,e.s=e.s.concat(s.data.data),i.next=12;break;case 11:n=11;case 12:i.next=2;break;case 14:if(5===e.user.role_id){for(n in e.active=!1,e.s)e.s[n].county==e.user.county&&a.push(e.s[n]);e.covid=a}e.getcovidData(e.s),e.isLoading=!1;case 17:case"end":return i.stop()}}),i)})))()},getcovidData:function(t){this.load=!0;var e=[];for(var i in this.barOptionsMonth.xAxis.categories=this.dateRange(this.startDate,this.endDate),this.barOptionsMonth.xAxis.categories)e.push(this.getMonthNum(this.barOptionsMonth.xAxis.categories[i],t));this.barOptionsMonth.series[0].data=e;var n=[];for(var i in this.barOptionsCadre.xAxis.categories)n.push(this.getCadreNum(this.barOptionsCadre.xAxis.categories[i],t));this.barOptionsCadre.series[0].data=n;e=[];for(var i in this.barOptionsProcedure.xAxis.categories)e.push(this.getProcedureNum(this.barOptionsProcedure.xAxis.categories[i],t));this.barOptionsProcedure.series[0].data=e;e=[];for(var i in this.barOptionsIpc.xAxis.categories)e.push(this.getIPCNum(this.barOptionsIpc.xAxis.categories[i],t));this.barOptionsIpc.series[0].data=e;e=[];for(var i in this.barOptionsPpePresent.xAxis.categories)e.push(this.getPpePresent(this.barOptionsPpePresent.xAxis.categories[i],t));this.barOptionsPpePresent.series[0].data=e;e=[];for(var i in this.barOptionsPpe.xAxis.categories)e.push(this.getPpe(this.barOptionsPpe.xAxis.categories[i],t));this.barOptionsPpe.series[0].data=e;e=[];for(var i in this.barOptionsGender.xAxis.categories)e.push(this.getGenderNum(this.barOptionsGender.xAxis.categories[i],t));this.barOptionsGender.series[0].data=e;e=[];for(var i in this.barOptionsTransmission.xAxis.categories)e.push(this.getTransmissionNum(this.barOptionsTransmission.xAxis.categories[i],t));this.barOptionsTransmission.series[0].data=e;e=[];for(var i in this.barOptionsIpcTraining.xAxis.categories)e.push(this.getIPCTrainingNum(i,t));this.barOptionsIpcTraining.series[0].data=e;e=[];for(var i in this.barOptionsAge.xAxis.categories)e.push(this.getAgeNum(i,t));this.barOptionsAge.series[0].data=e,this.value=!1,this.load=!1,this.isLoading=!1},getAgeNum:function(t,e){var i=0;for(var n in e){var a=new Date(e[n].dob),s=Date.now()-a.getTime(),o=new Date(s),r=Math.abs(o.getUTCFullYear()-1970);(r>=18&&r<26&&0==t||r>25&&r<=35&&1==t||r>35&&r<=45&&2==t||r>45&&r<=55&&3==t||r>55&&r<=65&&4==t||r>65&&5==t||r<18&&6==t)&&i++}return i},getIPCTrainingNum:function(t,e){var i=0;for(var n in e){var a=e[n].ipc_training_period,s=parseInt(a/12);(0==s&&s<1&&0==t||s>=1&&s<=2&&1==t||s>=3&&s<=5&&2==t||s>5&&3==t||null==e[n].ipc_training_period)&&i++}return i},getGenderNum:function(t,e){var i=0;for(var n in e)e[n].gender===t&&i++;return i},getIPCNum:function(t,e){var i=0;for(var n in e)e[n].ipc_training===t&&i++;return i},getPpePresent:function(t,e){var i=0;for(var n in e)e[n].ppe_worn===t&&i++;return i},getTransmissionNum:function(t,e){var i=0;for(var n in e)e[n].contact_with===t&&i++;return i},getPpe:function(t,e){var i=0;for(var n in e)null!==e[n].ppes&&-1!==e[n].ppes.indexOf(t)&&i++;return i},getProcedureNum:function(t,e){var i=0;for(var n in e)e[n].procedure_perfomed===t&&i++;return i},getCadreNum:function(t,e){var i=0;for(var n in e)e[n].cadre===t&&i++;return i},getHourNum:function(t,e){var i=0;for(var n in e){var a=e[n].date_of_contact.split(":")[0].slice(-2).trim();a<10&&(a="0"+a),a===t&&i++}return i},getMonthNum:function(t,e){var i=0,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(var a in e){var s=n.indexOf(e[a].date_of_contact.slice(0,3))+1;s<10&&(s="0"+s);var o=[e[a].date_of_contact.slice(8,13).trim(),s].join("-");o===t&&i++}return i},dateRange:function(t,e){for(var i=t.split("-"),n=e.split("-"),a=parseInt(i[0]),s=parseInt(n[0]),o=[],r=a;r<=s;r++)for(var l=r!=s?11:parseInt(n[1])-1,c=r===a?parseInt(i[1])-1:0,u=c;u<=l;u=u>12?u%12||11:u+1){var p=u+1,h=p<10?"0"+p:p;o.push([r,h].join("-"))}return o}}},O=w,P=i("2877"),k=Object(P["a"])(O,n,a,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-ba3d3dbe.84e43d7e.js.map