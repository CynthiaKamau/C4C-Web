{"version":3,"sources":["webpack:///./src/views/EditProtocol.vue?bd73","webpack:///./src/views/EditProtocol.vue?1a04","webpack:///src/views/EditProtocol.vue","webpack:///./src/views/EditProtocol.vue?2981","webpack:///./src/views/EditProtocol.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","ref","on","editProtocal","model","value","callback","$$v","valid","expression","titleRules","protocol","$set","_s","facility_id","user","hcw","facility_name","editor","$event","handleImageChange","file","directives","name","rawName","imagePreview","handleFiles","_l","key","file_name","removeFile","id","validateData","alert","dialog1","output","error","message","staticRenderFns","data","editorConfig","items","bodyRules","result","body","title","showPreview","files","resp","rules","required","computed","watch","val","setTimeout","created","getProtocol","methods","$refs","form","validate","i","uploadedFiles","length","push","reader","addEventListener","test","readAsDataURL","splice","$route","params","e","preventDefault","formData","append","headers","component"],"mappings":"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","file":"js/chunk-7850549e.8016a4a7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProtocol.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProtocol.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ScrollableDiv\"}},[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md11\":\"\"}},[_c('v-card',[_c('v-card-text',[_c('div'),_vm._v(\" \"),_c('p',{staticClass:\"display-1 text--primary\"},[_vm._v(\"\\n\\n              Edit Facility Resource\\n            \")])]),_vm._v(\" \"),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":_vm.editProtocal},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',{attrs:{\"py-0\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md12\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"id\":\"title\",\"rules\":_vm.titleRules,\"required\":\"\",\"label\":\"Title\"},model:{value:(_vm.protocol.title),callback:function ($$v) {_vm.$set(_vm.protocol, \"title\", $$v)},expression:\"protocol.title\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\"}},[_c('label',[_vm._v(\"Facility:\")]),_vm._v(\" \"),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"x-large\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.protocol.facility_id)+\" : \"+_vm._s(_vm.user.hcw.facility_name)+\"\\n                  \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('ckeditor',{attrs:{\"id\":\"editorData\",\"editor\":_vm.editor,\"rules\":\"bodyRules\"},model:{value:(_vm.protocol.body),callback:function ($$v) {_vm.$set(_vm.protocol, \"body\", $$v)},expression:\"protocol.body\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('label',{attrs:{\"for\":\"document\"}},[_vm._v(\"Upload Image:\")]),_vm._v(\" \"),_c('input',{ref:\"file\",attrs:{\"id\":\"file\",\"value\":\"file\",\"accept\":\"image/*\",\"type\":\"file\"},on:{\"change\":function($event){_vm.handleImageChange()}}}),_vm._v(\" \"),_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"src\":_vm.protocol.file,\"max-height\":\"400px\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPreview),expression:\"showPreview\"}],attrs:{\"src\":_vm.imagePreview}})]),_vm._v(\" \"),_c('v-flex',[_c('label',{attrs:{\"for\":\"document\"}},[_vm._v(\"Upload Documents:\")]),_vm._v(\" \"),_c('input',{ref:\"files\",attrs:{\"id\":\"files\",\"value\":\"files\",\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":function($event){_vm.handleFiles()}}}),_vm._v(\" \"),_vm._l((_vm.protocol.files),function(file){return _c('v-list',{key:file,staticClass:\"file-listing\"},[_vm._v(\" \"+_vm._s(file.file_name)+\"\\n                    \"),_c('span',{staticClass:\"remove-file\",on:{\"click\":function($event){_vm.removeFile(_vm.key)}}},[_vm._v(\" Remove \")])])}),_vm._v(\" \"),_vm._l((_vm.files),function(file,key){return _c('v-card',{key:file.id,staticClass:\"file-listing\"},[_vm._v(_vm._s(file.name)+\"\\n                    \"),_c('span',{staticClass:\"remove-file\",on:{\"click\":function($event){_vm.removeFile(key)}}},[_vm._v(\" Remove \")])])})],2),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn',{staticClass:\"mx-0 font-weight-light\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\",\"type\":\"submit\"},on:{\"click\":function($event){_vm.validateData(); _vm.alert=!_vm.alert; _vm.dialog1=true}}},[_vm._v(\"\\n                    Save\\n                  \")]),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"290\",\"lazy\":\"\"},model:{value:(_vm.dialog1),callback:function ($$v) {_vm.dialog1=$$v},expression:\"dialog1\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"text-xs-center\"},[_c('v-progress-circular',{staticClass:\"primary--text\",attrs:{\"size\":70,\"indeterminate\":\"\"}})],1)],1)],1),_vm._v(\" \"),_c('v-alert',{attrs:{\"value\":_vm.alert,\"icon\":\"mdi-alert\",\"dismissible\":\"\",\"outline\":\"\",\"color\":\"error\",\"elevation\":\"2\"}},[_c('h6',[_vm._v(\" \"+_vm._s(_vm.output.error)+\" \"+_vm._s(_vm.output.message)+\" \")])])],1)],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"ScrollableDiv\">\n    <v-container\n      fill-height\n      fluid\n      grid-list-xl>\n      <v-layout\n        justify-center\n        wrap\n      >\n        <v-flex\n          xs12\n          md11\n        >\n          <v-card>\n\n            <v-card-text>\n              <div/>\n              <p class=\"display-1 text--primary\">\n\n                Edit Facility Resource\n              </p>\n\n            </v-card-text>\n\n            <v-form\n              ref=\"form\"\n              v-model=\"valid\"\n              lazy-validation\n              @submit=\"editProtocal\">\n              <v-container py-0>\n                <v-layout wrap>\n\n                  <v-flex\n                    xs12\n                    md12\n                  >\n                    <v-text-field\n                      id=\"title\"\n                      :rules=\"titleRules\"\n                      v-model=\"protocol.title\"\n                      required\n                      label=\"Title\"\n                      class=\"purple-input\"/>\n                  </v-flex>\n\n                   <v-flex\n                    xs12\n                    md8>\n                    <label>Facility:</label>\n                    <v-chip\n                      class=\"ma-2\"\n                      x-large\n                    >\n                      {{ protocol.facility_id }} : {{user.hcw.facility_name}}\n                    </v-chip>\n                  </v-flex>  \n\n                  <v-flex xs12>\n                    <ckeditor\n                      id=\"editorData\"\n                      :editor=\"editor\"\n                      v-model=\"protocol.body\"\n                      rules=\"bodyRules\"/>\n                  </v-flex>\n\n                  <v-flex xs12 >\n\n                    <label for=\"document\">Upload Image:</label>\n                    <input\n                      id=\"file\"\n                      ref=\"file\"\n                      value=\"file\"\n                      accept=\"image/*\"\n                      type=\"file\"\n                      @change=\"handleImageChange()\">\n\n                    <v-img\n                      :src=\"protocol.file\"\n                      class=\"white--text align-end\"\n                      max-height=\"400px\"\n                    />\n\n                  </v-flex>\n                  <v-flex xs12>\n                    <img\n                      v-show=\"showPreview\"\n                      :src=\"imagePreview\">\n                  </v-flex>\n\n                  <v-flex>\n                    <label for=\"document\">Upload Documents:</label>\n                    <input\n                      id=\"files\"\n                      ref=\"files\"\n                      value=\"files\"\n                      type=\"file\"\n                      multiple\n                      @change=\"handleFiles()\">\n\n                    <v-list\n                      v-for=\"file in protocol.files\"\n                      :key=\"file\"\n                      class=\"file-listing\"> {{ file.file_name }}\n                      <span\n                        class=\"remove-file\"\n                        @click=\"removeFile(key)\"> Remove </span>\n                    </v-list>\n\n                    <v-card\n                      v-for=\"(file, key) in files\"\n                      :key=\"file.id\"\n                      class=\"file-listing\">{{ file.name }}\n                      <span\n                        class=\"remove-file\"\n                        @click=\"removeFile(key)\"> Remove </span> </v-card>\n                  </v-flex>\n\n                  <v-flex\n                    xs12\n                    text-xs-right\n                  >\n                    <v-btn\n                      :disabled=\"!valid\"\n                      class=\"mx-0 font-weight-light\"\n                      color=\"success\"\n                      type=\"submit\"\n                      @click=\"validateData(); alert=!alert; dialog1=true \"\n                    >\n                      Save\n                    </v-btn>\n\n                    <v-dialog\n                      v-model=\"dialog1\"\n                      max-width=\"290\"\n                      lazy>\n                      <v-card>\n                        <v-card-text class=\"text-xs-center\">\n                          <v-progress-circular\n                            :size=\"70\"\n                            indeterminate\n                            class=\"primary--text\"/>\n                        </v-card-text>\n                      </v-card>\n                    </v-dialog>\n\n                    <v-alert\n                    :value=\"alert\"\n                    icon = \"mdi-alert\"\n                    dismissible\n                    outline color=\"error\"\n                    elevation=\"2\"\n                  >\n                      <h6> {{ output.error }} {{ output.message }} </h6>\n                    </v-alert>\n\n                  </v-flex>\n                </v-layout>\n              </v-container>\n            </v-form>\n\n          </v-card>\n        </v-flex>\n\n      </v-layout>\n\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapGetters } from 'vuex'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\n\nexport default {\n\n  data () {\n    return {\n      editor: ClassicEditor,\n      editorConfig: { },\n      items: [],\n      alert: false,\n      valid: true,\n      titleRules: [\n        v => !!v || 'Title is required'\n      ],\n      bodyRules: [\n        v => !!v || 'Fill in the required text'\n      ],\n      dialog1: false,\n      result: '',\n      facility_id: '',\n      protocol : {\n        body: '',\n        title: '',\n       },\n      file: '',\n      showPreview: false,\n      imagePreview: '',\n      files: [],\n      output: '',\n      resp: '',\n      rules: {\n        required: value => !!value || 'Required.'\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  watch: {\n    dialog1 (val) {\n      if (!val) return\n      setTimeout(() => (this.dialog1 = false), 8000)\n    }\n  },\n  created () {\n    this.getProtocol()\n  },\n  methods: {\n    validateData () {\n      this.$refs.form.validate()\n    },\n\n    handleFiles () {\n      let uploadedFiles = this.$refs.files.files\n\n      for (var i = 0; i < uploadedFiles.length; i++) {\n        this.files.push(uploadedFiles[i])\n      }\n    },\n\n    handleImageChange (e) {\n      this.file = this.$refs.file.files[0]\n\n      let reader = new FileReader()\n\n      reader.addEventListener('load', function () {\n        this.showPreview = true\n        this.imagePreview = reader.result\n      }.bind(this), false)\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n\n    removeFile (key) {\n      this.files.splice(key, 1)\n    },\n\n    getProtocol () {\n      var id = this.$route.params.id\n      axios.get('resources/protocols/details/' + id)\n        .then((response) => {\n          this.protocol = response.data.data\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n\n    editProtocal (e) {\n      e.preventDefault()\n\n      let formData = new FormData()\n\n      for (var i = 0; i < this.files.length; i++) {\n        let file = this.files[i]\n\n        formData.append('protocol_files[' + i + ']', file)\n      }\n      formData.append('image_file', this.file)\n      formData.append('title', this.protocol.title)\n      formData.append('body', this.protocol.body)\n      formData.append('facility_id', this.protocol.facility_id )\n      formData.append('protocol_id', this.protocol.id)\n\n\n      axios.post( 'resources/protocols/update', formData, {\n        headers: {\n          'content-type': 'multipart/form-data' }\n      })\n        .then((response) => {\n          this.output = response.data\n          this.alert = true\n\n          this.$router.push('/protocols')\n        })\n        .catch(error => {\n          this.output = error\n          this.alert = true\n\n        })\n    }\n  }\n}\n\n</script>\n<style>\nspan.remove-file{\n  color:red;\n  cursor: pointer;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProtocol.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProtocol.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProtocol.vue?vue&type=template&id=76d5ddd7&\"\nimport script from \"./EditProtocol.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProtocol.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditProtocol.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}