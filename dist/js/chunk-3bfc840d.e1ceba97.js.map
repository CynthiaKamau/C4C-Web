{"version":3,"sources":["webpack:///./src/views/HbvReports.vue?5ff6","webpack:///./src/views/HbvReports.vue?ae9c","webpack:///src/views/HbvReports.vue","webpack:///./src/views/HbvReports.vue?32c9","webpack:///./src/views/HbvReports.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","user","role_id","all_counties","on","getSubCounties","model","value","callback","$$v","counties","expression","_e","_v","$set","all_subcounties","active","facilitySubCounty","subcounties","getFacilitysubcountyfilter","all_partners","partner","all_facilities_level","active_level","facilityLevel","fac","active_fac","facilityFilter","facility","ref","startDate","$event","menu1","slot","endDate","minDate","click","$refs","save","menu","maxDate","staticClass","downloadLoading","handleDownload","isLoading","onCancel","fullPage","barOptionsHBV","staticRenderFns","components","Loading","highcharts","data","Date","toISOString","substr","all_facilities","filename","autoWidth","bookType","chart","type","options3d","enabled","alpha","title","text","xAxis","categories","plotOptions","column","dataLabels","labels","items","series","seriesname","hbvs","s","userz","load","fac_filt","exp_filt","us_filt","fac_filtl","exp_filtl","us_filtl","fac_filtf","exp_filtf","us_filtf","computed","created","getImmunizations","getFacilities","getCounties","getPartners","methods","dates","convert","inRange","e","i","created_at","exp","push","getHBV","a","length","facilityCounty","c","f","county","name","ex","sort","sub_county","level","Number","slice","facility_level","facility_name","vac","seriesdata","getNum","list","arr","user_id","prev","b","u","count","excel","export_json_to_excel","header","tHeader","formatJson","jsonData","map","component"],"mappings":"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","file":"js/chunk-3bfc840d.e1ceba97.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HbvReports.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HbvReports.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[[_c('v-layout',[(_vm.user.role_id === 1 || _vm.user.role_id === 2 )?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"lg2\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.all_counties,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Select County\",\"multiple\":\"\",\"clearable\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},on:{\"change\":_vm.getSubCounties},model:{value:(_vm.counties),callback:function ($$v) {_vm.counties=$$v},expression:\"counties\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.user.role_id === 5)?_c('v-flex',{attrs:{\"xs10\":\"\",\"md2\":\"\"}},[_c('v-combobox',{attrs:{\"disabled\":\"\",\"chips\":\"\"},model:{value:(this.user.county),callback:function ($$v) {_vm.$set(this.user, \"county\", $$v)},expression:\"this.user.county\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.user.role_id === 1 || _vm.user.role_id === 2)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"lg2\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.all_subcounties,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Select Sub-County\",\"disabled\":_vm.active,\"multiple\":\"\",\"clearable\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},on:{\"change\":_vm.facilitySubCounty},model:{value:(_vm.subcounties),callback:function ($$v) {_vm.subcounties=$$v},expression:\"subcounties\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.user.role_id === 5)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.all_subcounties,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Select Sub-County\",\"multiple\":\"\",\"clearable\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},on:{\"change\":_vm.getFacilitysubcountyfilter},model:{value:(_vm.subcounties),callback:function ($$v) {_vm.subcounties=$$v},expression:\"subcounties\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.user.role_id !== 4)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"lg2\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.all_partners,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Select Partner\",\"multiple\":\"\",\"clearable\":\"\",\"disabled\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},model:{value:(_vm.partner),callback:function ($$v) {_vm.partner=$$v},expression:\"partner\"}})],1):_vm._e(),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"lg2\":\"\"}},[(_vm.user.role_id !== 4)?_c('v-combobox',{attrs:{\"items\":_vm.all_facilities_level,\"label\":\"Select Facility Level\",\"disabled\":_vm.active_level,\"multiple\":\"\",\"clearable\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},on:{\"change\":_vm.facilityLevel}}):_vm._e()],1),_vm._v(\" \"),(_vm.user.role_id !== 4)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"lg3\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.fac,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Select Facility\",\"disabled\":_vm.active_fac,\"multiple\":\"\",\"clearable\":\"\",\"persistent-hint\":\"\",\"chips\":\"\"},on:{\"change\":_vm.facilityFilter},model:{value:(_vm.facility),callback:function ($$v) {_vm.facility=$$v},expression:\"facility\"}})],1):_vm._e()],1),_vm._v(\" \"),[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-menu',{ref:\"menu1\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.startDate,\"lazy\":\"\",\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.startDate=$event}},model:{value:(_vm.menu1),callback:function ($$v) {_vm.menu1=$$v},expression:\"menu1\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"Start Date\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"dark\":true,\"no-title\":\"\",\"scrollable\":\"\",\"max\":_vm.endDate,\"min\":_vm.minDate},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu1 = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.click();_vm.$refs.menu1.save(_vm.startDate);_vm.click}}},[_vm._v(\"OK\")])],1)],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.endDate,\"lazy\":\"\",\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.endDate=$event}},model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"End Date\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"dark\":true,\"no-title\":\"\",\"scrollable\":\"\",\"max\":_vm.maxDate,\"min\":_vm.startDate},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.click();_vm.$refs.menu.save(_vm.endDate)}}},[_vm._v(\"OK\")])],1)],1)],1)],_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"x-large\":\"\",\"color\":\"secondary\",\"darknt\":\"\"},on:{\"click\":_vm.click}},[_vm._v(\"Filter\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"loading\":_vm.downloadLoading,\"color\":\"primary\",\"x-large\":\"\"},on:{\"click\":_vm.handleDownload}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-download\")]),_vm._v(\"Export Excel\\n      \")],1)],1)],_vm._v(\" \"),[_c('v-flex',{attrs:{\"xs12\":\"\",\"md12\":\"\"}},[_c('div',{staticClass:\"card vld-parent\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":false,\"on-cancel\":_vm.onCancel,\"loader\":\"dots\",\"is-full-page\":_vm.fullPage},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('h3'),_vm._v(\" \"),_c('highcharts',{ref:\"columnChart\",attrs:{\"options\":_vm.barOptionsHBV}})],1)])]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","  <template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl\n  >\n    <v-layout wrap>\n      <template>\n        <!-- Start filters -->\n        <v-layout >\n          <v-flex\n            xs12\n            md6\n            lg2\n            v-if=\"user.role_id === 1 || user.role_id === 2 \"\n          >\n            <v-combobox\n              v-model=\"counties\"\n              :items=\"all_counties\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Select County\"\n              v-on:change=\"getSubCounties\"\n              multiple\n              clearable\n              persistent-hint\n              chips/>\n          </v-flex>\n          <v-flex\n            xs10\n            md2\n            v-if=\"user.role_id === 5\"\n          >\n            <v-combobox\n              v-model=\"this.user.county\"\n              disabled\n              chips/>\n          </v-flex>\n          <v-flex\n            xs12\n            md6\n            lg2\n            v-if=\"user.role_id === 1 || user.role_id === 2\"\n          >\n            <v-combobox\n              v-model=\"subcounties\"\n              :items=\"all_subcounties\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Select Sub-County\"\n              :disabled=\"active\"\n              v-on:change=\"facilitySubCounty\"\n              multiple\n              clearable\n              persistent-hint\n              chips/>\n          </v-flex>\n          <v-flex\n            v-if=\"user.role_id === 5\"\n            xs12\n            md2\n          >\n            <v-combobox\n              v-model=\"subcounties\"\n              :items=\"all_subcounties\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Select Sub-County\"\n              multiple\n              clearable\n              persistent-hint\n              chips\n              @change=\"getFacilitysubcountyfilter\"/>\n          </v-flex>\n          <v-flex\n            xs12\n            md6\n            lg2\n            v-if=\"user.role_id !== 4\"\n          >\n            <v-combobox\n              v-model=\"partner\"\n              :items=\"all_partners\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Select Partner\"\n              multiple\n              clearable\n              disabled\n              persistent-hint\n              chips/>\n          </v-flex>\n          <v-flex\n            xs12\n            md6\n            lg2\n          >\n            <v-combobox\n              v-if=\"user.role_id !== 4\"\n              :items=\"all_facilities_level\"\n              label=\"Select Facility Level\"\n              v-on:change=\"facilityLevel\"\n              :disabled=\"active_level\"\n              multiple\n              clearable\n              persistent-hint\n              chips/>\n          </v-flex>\n          <v-flex\n            xs12\n            md6\n            lg3\n            v-if=\"user.role_id !== 4\"\n          >\n            <v-combobox\n              v-model=\"facility\"\n              :items=\"fac\"\n              item-text=\"name\"\n              item-value=\"id\"\n              label=\"Select Facility\"\n              v-on:change=\"facilityFilter\"\n              :disabled=\"active_fac\"\n              multiple\n              clearable\n              persistent-hint\n              chips/>\n          </v-flex>\n        </v-layout>\n\n        <template>\n          <v-flex\n              xs12\n              sm6\n              md3>\n            <v-menu\n              ref=\"menu1\"\n              :close-on-content-click=\"false\"\n              v-model=\"menu1\"\n              :nudge-right=\"40\"\n              :return-value.sync=\"startDate\"\n              lazy\n              transition=\"scale-transition\"\n              offset-y\n              full-width\n              min-width=\"290px\"\n            >\n              <v-text-field\n                slot=\"activator\"\n                v-model=\"startDate\"\n                label=\"Start Date\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n              ></v-text-field>\n              <v-date-picker :dark=\"true\" v-model=\"startDate\" no-title scrollable :max=\"endDate\" :min=\"minDate\">\n                <v-spacer></v-spacer>\n                <v-btn flat color=\"primary\" @click=\"menu1 = false\">Cancel</v-btn>\n                <v-btn flat color=\"primary\" @click=\"click();$refs.menu1.save(startDate);click\">OK</v-btn>\n              </v-date-picker>\n            </v-menu>\n          </v-flex>\n          <v-flex\n            xs12\n            sm6\n            md3>\n            <v-menu\n              ref=\"menu\"\n              :close-on-content-click=\"false\"\n              v-model=\"menu\"\n              :nudge-right=\"40\"\n              :return-value.sync=\"endDate\"\n              lazy\n              transition=\"scale-transition\"\n              offset-y\n              full-width\n              min-width=\"290px\"\n            >\n              <v-text-field\n                slot=\"activator\"\n                v-model=\"endDate\"\n                label=\"End Date\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n              ></v-text-field>\n              <v-date-picker :dark=\"true\" v-model=\"endDate\" no-title scrollable :max=\"maxDate\" :min=\"startDate\">\n                <v-spacer></v-spacer>\n                <v-btn flat color=\"primary\" @click=\"menu = false\">Cancel</v-btn>\n                <v-btn flat color=\"primary\" @click=\"click();$refs.menu.save(endDate)\">OK</v-btn>\n              </v-date-picker>\n            </v-menu>\n          </v-flex>\n        </template>\n\n        <div class=\"text-center\"> \n          \n          <v-btn\n            x-large\n            color=\"secondary\"\n            darknt\n            @click=\"click\">Filter</v-btn>\n\n        <v-btn\n            :loading=\"downloadLoading\"\n            color=\"primary\"\n            x-large\n            @click=\"handleDownload\">\n            <v-icon left>mdi-download</v-icon>Export Excel\n        </v-btn>\n\n      </div>\n\n        <!-- End filters -->\n      </template>\n      <template>\n        <v-flex\n          xs12\n          md12\n          >\n          <div class=\"card vld-parent\">\n            <loading :active.sync=\"isLoading\" \n            :can-cancel=\"false\" \n            :on-cancel=\"onCancel\"\n            loader='dots'\n            :is-full-page=\"fullPage\"></loading>\n            <h3/>\n            <highcharts\n              ref=\"columnChart\"\n              :options=\"barOptionsHBV\"/>\n          </div>\n        </v-flex>\n      </template>\n\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { Chart } from 'highcharts-vue'\nimport axios from 'axios'\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Highcharts from 'highcharts'\nimport moment from 'moment'\nimport { mapGetters } from 'vuex'\n\nimport { EventBus } from './../event-bus.js'\n\nexport default {\n  components: {\n    Loading,\n    highcharts: Chart\n  },\n  data () {\n    return {\n      isLoading: true,\n      fullPage: false,\n      menu: false,\n      menu1: false,\n      startDate: '2017-01-01',\n      maxDate: new Date().toISOString().substr(0, 10),\n      minDate: '2017-01-01',\n      endDate: new Date().toISOString().substr(0, 10),\n      facility: '',\n      partner: '',\n      counties: '',\n      subcounties: '',\n      fac: [],\n      all_facilities: [],\n      all_facilities_level: ['Level 1', 'Level 2', 'Level 3', 'Level 4', 'Level 5 and Above'],\n      all_counties: [],\n      all_subcounties: [],\n      all_partners: [],\n      active: true,\n      active_fac: true,\n      active_level: true,\n\n      downloadLoading: false,\n      filename: `HBV Report ${new Date().toISOString()}`,\n      autoWidth: true,\n      bookType: 'xlsx',\n\n      barOptionsHBV: {\n        chart: {\n          type: 'column',\n          options3d: {\n            enabled: true,\n            alpha: 45\n          }\n        },\n        title: {\n          text: 'Immunizations by HBV'\n        },\n        xAxis: {\n          //\n          categories: ['Dose 1', 'Dose 2', 'Dose 3']\n          //  categories: ['01', '02', '03', '04', '05','06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '00' ]\n\n        },\n        plotOptions: {\n          column: {\n            dataLabels: {\n              enabled: true\n            }\n          }\n        },\n        labels: {\n          items: [\n            {\n              html: '',\n              style: {\n                left: '50px',\n                top: '18px',\n                color: (Highcharts.theme && Highcharts.theme.textColor) || 'black'\n              }\n            }\n          ]\n        },\n        series: [\n          {\n            // type: 'column',\n            colorByPoint: true,\n            name: 'HBV Immunizations',\n            data: []\n          }\n\n        ]\n      },\n      seriesname: [1, 2, 3],\n      hbvs: [],\n\n      s: [],\n      userz: [],\n      load: true,\n\n      fac_filt: [],\n      exp_filt: [],\n      us_filt: [],\n      fac_filtl: [],\n      exp_filtl: [],\n      us_filtl: [],\n      fac_filtf: [],\n      exp_filtf: [],\n      us_filtf: []\n    }\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  created () {\n    this.getImmunizations()\n    this.getFacilities()\n    this.getCounties()\n    this.getPartners()\n  },\n  methods: {\n    onCancel() {\n    },\n    click () {\n      let exp = []\n      var dates = {\n        convert:function(d) {\n          return (\n            d.constructor === Date ? d :\n            d.constructor === Array ? new Date(d[0],d[1],d[2]) :\n            d.constructor === Number ? new Date(d) :\n            d.constructor === String ? new Date(d) :\n            typeof d === \"object\" ? new Date(d.year,d.month,d.date) :\n            NaN\n          );\n        },\n        inRange:function(d,start,end) {\n          return (\n            isFinite(d=this.convert(d).valueOf()) &&\n            isFinite(start=this.convert(start).valueOf()) &&\n            isFinite(end=this.convert(end).valueOf()) ?\n            start <= d && d <= end :\n            NaN\n          );\n        }\n      }\n      for (var e in this.s) {\n        var i = new Date(this.s[e].created_at).toISOString().substr(0, 10)\n        if (dates.inRange(i,this.startDate,this.endDate)){\n          exp.push(this.s[e])\n        }\n      }\n      this.getHBV(exp)\n     \n    },\n    getFacilities () {\n      axios.get('facilities')\n        .then((facilities) => {\n          this.all_facilities = facilities.data.data\n        })\n        .catch(error => console.log(error.message))\n    },\n    getCounties () {\n      axios.get('counties')\n        .then((counties) => {\n          this.all_counties = counties.data.data\n        })\n        .catch(error => console.log(error.message))\n    },\n\n    getSubCounties (a) {\n      if (a.length > 0) {\n        this.active = false\n        this.all_subcounties = []\n        for (var i in a) {\n          axios.get(`subcounties/${a[i].id}`)\n            .then((subcounties) => {\n              this.all_subcounties = this.all_subcounties.concat(subcounties.data.data)\n            })\n            .catch(error => console.log(error.message))\n        }\n        this.facilityCounty(a)\n      } else {\n        this.active = true\n        this.facilityCounty(a)\n      }\n    },\n    facilityCounty (a) {\n      this.us_filt =[],this.fac_filt = [], this.exp_filt = []\n      if (a.length > 0) {\n        for (var c in a) {\n          for (var f in this.all_facilities) {\n            if (this.all_facilities[f].county == a[c].name) {\n              this.fac_filt.push(this.all_facilities[f])\n            }\n          }\n          for (var ex in this.s) {\n            if (this.s[ex].county == a[c].name) {\n              this.exp_filt.push(this.s[ex])\n            }\n          }\n        }\n        this.getHBV(this.exp_filt)\n        this.fac = this.fac_filt.sort()\n      } else {\n        this.fac = this.all_facilities\n        this.getHBV(this.s)\n      }\n    },\n    facilitySubCounty (a) {\n      this.exp_filtl = [], this.fac_filtl = [], this.us_filtl = []\n      this.active_level = false\n      if (a.length > 0) {\n        for (var c in a) {\n          for (var f in this.fac_filt) {\n            if (this.fac_filt[f].sub_county == a[c].name) {\n              this.fac_filtl.push(this.fac_filt[f])\n            }\n          }\n          for (var ex in this.exp_filt) {\n            if (this.exp_filt[ex].sub_county == a[c].name) {\n              this.exp_filtl.push(this.exp_filt[ex])\n            }\n          }\n        }\n        this.getHBV(this.exp_filtl)\n        this.fac = this.fac_filtl.sort()\n      } else {\n        this.fac = this.fac_filt\n        this.getHBV(this.exp_filt)\n        this.active_level = true\n      }\n    },\n\n    facilityLevel (a) {\n      this.fac_filtf = [], this.exp_filtf = []\n      this.active_fac = false\n      if (a.length > 0) {\n        for (var c in a) {\n          for (var f in this.fac_filtl) {\n            if (this.fac_filtl[f].level == a[c]) {\n              this.fac_filtf.push(this.fac_filtl[f])\n            } else if (a[c]== 'Level 5 and Above') {\n              if (Number(this.fac_filtl[f].level.slice(6,7)) >= 5) {\n                this.fac_filtf.push(this.fac_filtl[f])\n              }\n            }\n          }\n          for (var ex in this.exp_filtl) {\n            if (this.exp_filtl[ex].facility_level == a[c]) {\n              this.exp_filtf.push(this.exp_filtl[ex])\n            } else if (a[c]== 'Level 5 and Above') {\n              if (Number(this.exp_filtl[ex].facility_level.slice(6,7)) >= 5) {\n                this.exp_filtf.push(this.exp_filtl[ex])\n              }\n            }\n          }\n        }\n        this.getHBV(this.exp_filtf)\n        this.fac = this.fac_filtf.sort()\n      } else {\n        this.fac = this.fac_filtl\n        this.active_fac = true\n        this.getHBV(this.exp_filtl)\n      }\n    },\n\n    facilityFilter (a) {\n      let b = [], e = [], us = []\n\n      if (a.length > 0) {\n        for (var c in a) {\n          for (var ex in this.exp_filtf) {\n            if (this.exp_filtf[ex].facility_name == a[c].name) {\n              e.push(this.exp_filtf[ex])\n            }\n          }\n        }\n        this.getHBV(e)\n      } else {\n        this.getHBV(this.exp_filtf)\n      }\n    },\n\n    getImmunizations () {\n      if (this.user.role_id === 1 || this.user.role_id == 2 || this.user.role_id == 5) {\n        axios.get('immunizations/all/disease/1')\n          .then((exp) => {\n            this.s = exp.data.data\n            if (exp.data.links.next != null) {\n              this.link = exp.data.links.next\n              this.loopT(this.link)\n            } else {\n              this.getHBV(this.s)\n              this.isLoading = false\n            }\n          })\n          .catch(error => console.log(error.message))\n      } else if (this.user.role_id === 4) {\n        axios.get(`immunizations/facility/${this.user.hcw.facility_id}/disease/1`)\n          .then((exp) => {\n            this.s = exp.data.data\n            if (exp.data.links.next != null) {\n              this.link = exp.data.links.next\n              this.loopT(this.link)\n            } else {\n              this.getHBV(this.s)\n              this.isLoading = false\n            }\n          })\n          .catch(error => console.log(error.message))\n      }\n    },\n\n    getPartners () {\n      axios.get('partners') \n        .then((partners) => {\n          this.all_partners = partners.data.data\n        })\n        .catch(error => console.log(error.message))\n    },\n    async loopT (l) {\n      var i\n      for (i = 0; i < 1;) {\n        if (l != null) {\n          let response = await axios.get(l)\n          l = response.data.links.next\n          this.s = this.s.concat(response.data.data)\n        } else {\n          i = 11\n        }\n      }\n      this.getHBV(this.s)\n      this.isLoading = false\n    },\n    getHBV (list) {\n      this.seriesdata = []\n      for (var vac in this.seriesname) {\n        this.seriesdata.push(this.getNum(vac, list))\n      }\n      this.barOptionsHBV.series[0].data = this.seriesdata\n    },\n    getNum (name, list) {\n      var a = [], b = [], prev, count = 0, arr = []\n      for (var f in list) {\n        arr.push(list[f].user_id)\n      }\n      arr.sort()\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] !== prev) {\n          a.push(arr[i])\n          b.push(1)\n        } else {\n          b[b.length - 1]++\n        }\n        prev = arr[i]\n      }\n      for (var u in b) {\n        if (name == 0 && b[u]) {\n          count++\n        } else if (name == 1 && b[u] === 2 || b[u] === 3) {\n          count++\n        } else if (name == 2 && b[u] === 3) {\n          count++\n        }\n      }\n      return count\n    },\n\n    handleDownload () {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = ['First Name', 'Surname', 'Gender','Phone Number','Disease Name', 'Date', 'County', 'Sub County', 'Facility Name','Facility Level']\n        const filterVal = ['first_name', 'surname','gender', 'msisdn', 'disease', 'date', 'county', 'sub_county', 'facility_name', 'facility_level']\n        const list = this.s\n        const data = this.formatJson(filterVal, list)\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: this.filename,\n          autoWidth: this.autoWidth,\n          bookType: this.bookType\n        })\n        this.downloadLoading = false\n      })\n    },\n    formatJson (filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => {\n        if (j === 'msisdn') {\n          return v[j]\n        } else {\n          return v[j]\n        }\n      }))\n    }\n\n  }\n}\n</script>\n\n<style>\n.v-btn {\n  margin-right: 130px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HbvReports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HbvReports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HbvReports.vue?vue&type=template&id=1dd4b66e&\"\nimport script from \"./HbvReports.vue?vue&type=script&lang=js&\"\nexport * from \"./HbvReports.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HbvReports.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}