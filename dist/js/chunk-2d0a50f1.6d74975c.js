(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a50f1"],{"08a4":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1===t.user.role_id?a("div",[a("v-toolbar-title",{attrs:{tabs:""}},[a("v-tabs",{attrs:{slot:"extension",grow:"","fixed-tabs":"",color:"transparent"},slot:"extension",model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tabs-slider"),t._v(" "),a("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-1"}},[a("v-icon",[t._v("Health Care response Complete Profiles")])],1),t._v(" "),a("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-2"}},[a("v-icon",[t._v("Health Care Workers Incomplete Profiles")])],1)],1)],1),t._v(" "),a("v-tabs-items",{staticClass:"white elevation-1",model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},t._l(2,(function(e){return a("v-tab-item",{key:e,attrs:{id:"mobile-tabs-5-"+e}},[1===e?a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-snackbar",{attrs:{color:"error",timeout:12e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("\n                mdi-bell-plus\n              ")]),t._v(" "),a("div",[t._v(" "+t._s(t.result))]),t._v(" "),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                mdi-close-circle\n              ")])],1),t._v(" "),a("v-card",[a("v-card-title",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-btn",{attrs:{loading:t.downloadLoading,color:"primary"},on:{click:t.handleDownload}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export Excel\n                  ")],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.all_hcws,"rows-per-page-items":t.rowsPerPageItems,search:t.search,loading:!0,"item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.gender))]),t._v(" "),a("td",[t._v(t._s(e.item.dob))]),t._v(" "),a("td",[t._v(t._s(e.item.facility_name))]),t._v(" "),a("td",[t._v(t._s(e.item.county))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_county))]),t._v(" "),a("td",[t._v(t._s(e.item.department))]),t._v(" "),a("td",[t._v(t._s(e.item.cadre))])]}}])},[a("template",{slot:"no-data"},[a("v-progress-linear",{attrs:{slot:"progress",indeterminate:""},slot:"progress"})],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"success",icon:"mdi-emoticon-sad"},slot:"no-results"},[t._v('\n                  Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2)],1)],1)],1)],1):t._e(),t._v(" "),2===e?a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-snackbar",{attrs:{color:"error",timeout:12e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("\n                mdi-bell-plus\n              ")]),t._v(" "),a("div",[t._v(" "+t._s(t.result))]),t._v(" "),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                mdi-close-circle\n              ")])],1),t._v(" "),a("v-card",[a("v-card-title",[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-btn",{attrs:{loading:t.downloadLoading,color:"primary"},on:{click:t.handleDownload2}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export Excel\n                  ")],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers1,items:t.filteredList,"rows-per-page-items":t.rowsPerPage,search:t.search,loading:!0,"item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.gender))]),t._v(" "),a("td",[t._v(t._s(e.item.msisdn))]),t._v(" "),a("td",[t._v(t._s(e.item.email))])]}}])},[a("template",{slot:"no-data"},[a("v-progress-linear",{attrs:{slot:"progress",indeterminate:""},slot:"progress"})],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"success",icon:"mdi-emoticon-sad"},slot:"no-results"},[t._v('\n                  Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2)],1)],1)],1)],1):t._e()],1)})),1)],1):2===t.user.role_id?a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-snackbar",{attrs:{color:"error",timeout:12e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("\n      mdi-bell-plus\n    ")]),t._v(" "),a("div",[t._v(" "+t._s(t.result))]),t._v(" "),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      mdi-close-circle\n    ")])],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          All Users\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-flex",{attrs:{xs12:"",md2:""}},[a("v-btn",{attrs:{loading:t.downloadLoading,color:"primary"},on:{click:t.handleDownload}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export Excel\n            ")],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.all_hcws,"rows-per-page-items":t.rowsPerPageItems,search:t.search,loading:!0,"item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.gender))]),t._v(" "),a("td",[t._v(t._s(e.item.dob))]),t._v(" "),a("td",[t._v(t._s(e.item.facility_name))]),t._v(" "),a("td",[t._v(t._s(e.item.county))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_county))]),t._v(" "),a("td",[t._v(t._s(e.item.department))]),t._v(" "),a("td",[t._v(t._s(e.item.cadre))])]}}])},[a("template",{slot:"no-data"},[a("v-progress-linear",{attrs:{slot:"progress",indeterminate:""},slot:"progress"})],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"success",icon:"mdi-emoticon-sad"},slot:"no-results"},[t._v('\n            Your search for "'+t._s(t.search)+'" found no results.\n          ')])],2)],1)],1)],1)],1):5===t.user.role_id?a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-snackbar",{attrs:{color:"error",timeout:12e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("\n      mdi-bell-plus\n    ")]),t._v(" "),a("div",[t._v(" "+t._s(t.result))]),t._v(" "),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      mdi-close-circle\n    ")])],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          All Users\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-flex",{attrs:{xs12:"",md2:""}},[a("v-btn",{attrs:{loading:t.downloadLoading,color:"primary"},on:{click:t.handleDownload}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export Excel\n            ")],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.filteredUsers,"rows-per-page-items":t.rowsPerPageItems,search:t.search,loading:!0,"item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.gender))]),t._v(" "),a("td",[t._v(t._s(e.item.dob))]),t._v(" "),a("td",[t._v(t._s(e.item.facility_name))]),t._v(" "),a("td",[t._v(t._s(e.item.county))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_county))]),t._v(" "),a("td",[t._v(t._s(e.item.department))]),t._v(" "),a("td",[t._v(t._s(e.item.cadre))])]}}])},[a("template",{slot:"no-data"},[a("v-progress-linear",{attrs:{slot:"progress",indeterminate:""},slot:"progress"})],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"success",icon:"mdi-emoticon-sad"},slot:"no-results"},[t._v('\n            Your search for "'+t._s(t.search)+'" found no results.\n          ')])],2)],1)],1)],1)],1):4===t.user.role_id?a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-snackbar",{attrs:{color:"error",timeout:12e3,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("v-icon",{staticClass:"mr-3",attrs:{color:"white"}},[t._v("\n      mdi-bell-plus\n    ")]),t._v(" "),a("div",[t._v(" "+t._s(t.result))]),t._v(" "),a("v-icon",{attrs:{size:"16"},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      mdi-close-circle\n    ")])],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          All Users\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-flex",{attrs:{xs12:"",md2:""}},[a("v-btn",{attrs:{loading:t.downloadLoading,color:"primary"},on:{click:t.handleDownload}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export Excel\n            ")],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.all_hcws,"rows-per-page-items":t.rowsPerPageItems,search:t.search,loading:!0,"item-key":"id"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.gender))]),t._v(" "),a("td",[t._v(t._s(e.item.dob))]),t._v(" "),a("td",[t._v(t._s(e.item.facility_name))]),t._v(" "),a("td",[t._v(t._s(e.item.county))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_county))]),t._v(" "),a("td",[t._v(t._s(e.item.department))]),t._v(" "),a("td",[t._v(t._s(e.item.cadre))])]}}])},[a("template",{slot:"no-data"},[a("v-progress-linear",{attrs:{slot:"progress",indeterminate:""},slot:"progress"})],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"success",icon:"mdi-emoticon-sad"},slot:"no-results"},[t._v('\n            Your search for "'+t._s(t.search)+'" found no results.\n          ')])],2)],1)],1)],1)],1):t._e()},s=[],n=a("4795"),o=a.n(n),i=a("bc3a"),l=a.n(i),c=a("2f62");function d(t,e,a,r,s,n,o){try{var i=t[n](o),l=i.value}catch(c){return void a(c)}i.done?e(l):Promise.resolve(l).then(r,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function o(t){d(n,r,s,o,i,"next",t)}function i(t){d(n,r,s,o,i,"throw",t)}o(void 0)}))}}function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={data:function(){return{n:null,new_users:[],county_users:[],users_ttl:[],all_hcws:[],incompletes:[],search:"",tabs:null,isLoading:!0,snackbar:!1,result:"",rowsPerPageItems:[200,1e3,5e3,1e4],rowsPerPage:[1e3,5e3,1e4],headers:[{sortable:!1,text:"Gender",value:"gender"},{sortable:!1,text:"Date Of Birth",value:"dob"},{sortable:!1,text:"Facility",value:"facility_name"},{sortable:!1,text:"County",value:"county"},{sortable:!1,text:"Sub County",value:"sub_county"},{sortable:!1,text:"Department",value:"department"},{sortable:!1,text:"Cadre",value:"cadre"}],headers1:[{sortable:!1,text:"Gender",value:"gender"},{sortable:!1,text:"Phone Number",value:"msisdn"},{sortable:!1,text:"Email",value:"email"}],downloadLoading:!1,filename:"Health care workers ".concat((new Date).toISOString()),autoWidth:!0,bookType:"xlsx"}},computed:_(_({},Object(c["c"])({user:"auth/user"})),{},{filteredList:function(){return this.new_users=this.users_ttl.filter((function(t){return 0===t.profile_complete}))},filteredUsers:function(){var t=this;return this.county_users=this.all_hcws.filter((function(e){return e.county===t.user.county}))}}),created:function(){this.getHCW(),this.getUsers()},methods:m({getHCW:function(){var t=this;1===this.user.role_id?l.a.get("hcw").then((function(e){t.all_hcws=e.data.data,t.loopH(e.data.links.next),t.isLoading=!1})).catch((function(){t.result="Check your internet connection or retry logging in.",t.snackbar=!0})):2===this.user.role_id?l.a.get("hcw/partner/".concat(this.user.hcw.partner_id)).then((function(e){t.all_hcws=e.data.data,console.log("ndani",t.all_hcws),t.loopH(e.data.links.next),t.isLoading=!1})).catch((function(){t.error=!0,t.result="Check your internet connection or retry logging in.",t.snackbar=!0})):5===this.user.role_id?l.a.get("hcw").then((function(e){t.all_hcws=e.data.data,t.loopH(e.data.links.next),t.isLoading=!1})).catch((function(){t.error=!0,t.result="Check your internet connection or retry logging in.",t.snackbar=!0})):4===this.user.role_id&&l.a.get("hcw/facility/".concat(this.user.hcw.facility_id)).then((function(e){t.all_hcws=e.data.data,t.loopH(e.data.links.next),t.isLoading=!1})).catch((function(){t.result="Check your internet connection or retry logging in.",t.snackbar=!0}))},loopH:function(t){var e=this;return u(o.a.mark((function a(){var r,s;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=0;case 1:if(!(r<1)){a.next=13;break}if(null==t){a.next=10;break}return a.next=5,l.a.get(t);case 5:s=a.sent,t=s.data.links.next,e.all_hcws=e.all_hcws.concat(s.data.data),a.next=11;break;case 10:r=200;case 11:a.next=1;break;case 13:case"end":return a.stop()}}),a)})))()},handleDownload:function(){var t=this;this.downloadLoading=!0,a.e("chunk-0e610f46").then(a.bind(null,"4bf8")).then((function(e){var a=["First Name","Surname","Gender","Mobile","Date Of Birth","Facility","County","Sub County","Department","Cadre","Registration Date"],r=["first_name","surname","gender","msisdn","dob","facility_name","county","sub_county","department","cadre","created_at"],s=t.all_hcws,n=t.formatJson(r,s);e.export_json_to_excel({header:a,data:n,filename:t.filename,autoWidth:t.autoWidth,bookType:t.bookType}),t.downloadLoading=!1}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t],e[t]}))}))},getUsers:function(){var t=this;l.a.get("users").then((function(e){t.users_ttl=e.data.data,t.loopT(e.data.links.next),t.isLoading=!1})).catch((function(e){console.log(e),t.error=!0,t.result="Check your internet connection or retry logging in.",t.snackbar=!0}))},loopT:function(t){var e=this;return u(o.a.mark((function a(){var r,s;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=0;case 1:if(!(r<1)){a.next=13;break}if(null==t){a.next=10;break}return a.next=5,l.a.get(t);case 5:s=a.sent,t=s.data.links.next,e.users_ttl=e.users_ttl.concat(s.data.data),a.next=11;break;case 10:r=200;case 11:a.next=1;break;case 13:case"end":return a.stop()}}),a)})))()},handleDownload2:function(){var t=this;this.downloadLoading=!0,a.e("chunk-0e610f46").then(a.bind(null,"4bf8")).then((function(e){var a=["First Name","Surname","Gender","Phone Number","Email","Registration Date"],r=["first_name","surname","gender","msisdn","email","created_at"],s=t.new_users,n=t.formatJson(r,s);e.export_json_to_excel({header:a,data:n,filename:t.filename,autoWidth:t.autoWidth,bookType:t.bookType}),t.downloadLoading=!1}))}},"formatJson",(function(t,e){return e.map((function(e){return t.map((function(t){return e[t],e[t]}))}))}))},h=f,p=a("2877"),b=Object(p["a"])(h,r,s,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0a50f1.6d74975c.js.map