(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d6fdbb6"],{"553b":function(e,t,i){},8378:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md11:""}},[i("material-card",{attrs:{color:"green",title:"Create A Public Resource ",text:"Kindly fill all the required fields carefully"}},[i("v-card-text",[i("div"),e._v(" "),i("p",{staticClass:"display-1 text--primary"},[e._v("\n            Add A New Public Resource\n          ")]),e._v(" "),i("div",{staticClass:"text--primary"},[e._v("\n            Kindly fill all the required fields\n          ")])]),e._v(" "),i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.postCME},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-container",{attrs:{"py-0":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-text-field",{staticClass:"purple-input",attrs:{id:"title",rules:[function(e){return!!e||"Title is required"}],required:"",label:"Title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("ckeditor",{attrs:{id:"editorData",editor:e.editor,config:e.editorConfig,required:""},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}}),e._v(" "),i("ul",e._l(e.errors,(function(t){return i("li",{key:t},[e._v(e._s(t))])})),0)],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Image:")]),e._v(" "),i("input",{ref:"file",attrs:{id:"file",value:"file",accept:"image/*",type:"file"},on:{change:function(t){e.handleImageChange()}}}),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.showPreview,expression:"showPreview"}],attrs:{src:e.imagePreview}})]),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Documents:")]),e._v(" "),i("input",{ref:"files",attrs:{id:"files",type:"file",multiple:""},on:{change:function(t){e.handleFiles()}}}),e._v(" "),e._l(e.files,(function(t,a){return i("v-card",{key:t.id,staticClass:"file-listing"},[e._v(e._s(t.name)+"\n                  "),i("span",{staticClass:"remove-file",on:{click:function(t){e.removeFile(a)}}},[e._v(" Remove ")])])}))],2),e._v(" "),i("v-flex",{attrs:{xs12:"","text-xs-right":""}},[i("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{disabled:!e.valid,loading:e.dialog1,color:"success",type:"submit"},on:{click:function(t){e.validate(),e.dialog1=!0}}},[e._v("\n                  Submit\n                ")]),e._v(" "),i("v-dialog",{attrs:{"max-width":"290",lazy:""},model:{value:e.dialog1,callback:function(t){e.dialog1=t},expression:"dialog1"}},[i("v-card",[i("v-card-text",{staticClass:"text-xs-center"},[i("v-progress-circular",{staticClass:"primary--text",attrs:{size:70,indeterminate:""}})],1)],1)],1),e._v(" "),i("v-alert",{attrs:{value:e.alert,icon:"mdi-alert",dismissible:"",outline:"",color:"error",elevation:"2"}},[i("h6",[e._v(" "+e._s(e.output.error)+" "+e._s(e.output.message)+" ")])])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],s=i("bc3a"),l=i.n(s),n=i("fb3d"),o=i.n(n),d={data:function(){return{editor:o.a,editorData:"",editorConfig:{},valid:!0,errors:[],dialog1:!1,result:"",output:"",resp:"",alert:!1,title:"",file:"",showPreview:!1,imagePreview:"",files:[]}},watch:{dialog1:function(e){var t=this;e&&setTimeout((function(){return t.dialog1=!1}),8e3)}},methods:{validate:function(){this.$refs.form.validate()},handleImageChange:function(e){this.file=this.$refs.file.files[0];var t=new FileReader;t.addEventListener("load",function(){this.showPreview=!0,this.imagePreview=t.result}.bind(this),!1),this.file&&/\.(jpe?g|png|gif)$/i.test(this.file.name)&&t.readAsDataURL(this.file)},handleFiles:function(){for(var e=this.$refs.files.files,t=0;t<e.length;t++)this.files.push(e[t])},removeFile:function(e){this.files.splice(e,1)},postCME:function(e){var t=this;if(e.preventDefault(),this.errors=[],""==this.editorData)this.errors.push("Description is required.");else{for(var i=new FormData,a=0;a<this.files.length;a++){var r=this.files[a];i.append("cme_files["+a+"]",r)}i.append("image_file",this.file),i.append("title",this.title),i.append("body",this.editorData),l.a.post("resources/cmes/create",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.output=e.data,t.alert=!0,t.$router.push("/cmes")})).catch((function(e){t.output=e,t.alert=!0}))}}}},c=d,u=(i("e5c9"),i("2877")),f=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=f.exports},e5c9:function(e,t,i){"use strict";var a=i("553b"),r=i.n(a);r.a}}]);
//# sourceMappingURL=chunk-6d6fdbb6.5bf2206d.js.map