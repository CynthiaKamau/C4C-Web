(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c179ec0"],{"820f":function(e,t,i){"use strict";var a=i("ffa1"),s=i.n(a);s.a},"86e0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md11:""}},[i("material-card",{attrs:{color:"green",title:"Create A Public Resource ",text:"Kindly fill all the required fields carefully"}},[i("v-card-text",[i("div"),e._v(" "),i("p",{staticClass:"display-1 text--primary"},[e._v("\n            Edit Public Resource\n          ")])]),e._v(" "),i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:e.editCME},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-container",{attrs:{"py-0":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-text-field",{staticClass:"purple-input",attrs:{id:"title",rules:e.titleRules,required:"",label:"Title"},model:{value:e.cme.title,callback:function(t){e.$set(e.cme,"title",t)},expression:"cme.title"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("ckeditor",{attrs:{id:"editorData",editor:e.editor,rules:e.bodyRules,config:e.editorConfig,placeholder:"Write here",required:""},model:{value:e.cme.body,callback:function(t){e.$set(e.cme,"body",t)},expression:"cme.body"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Image:")]),e._v(" "),i("input",{ref:"file",attrs:{id:"file",value:"file",accept:"image/*",type:"file"},on:{change:function(t){e.handleImageChange()}}}),e._v(" "),i("v-img",{staticClass:"white--text align-end",attrs:{src:e.cme.file,height:"400px"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.showPreview,expression:"showPreview"}],attrs:{src:e.imagePreview}})]),e._v(" "),i("v-flex",{attrs:{xs12:""}},[i("label",{attrs:{for:"document"}},[e._v("Upload Documents:")]),e._v(" "),i("input",{ref:"files",attrs:{id:"files",value:"files",type:"file",multiple:""},on:{change:function(t){e.handleFiles()}}}),e._v("\n                "+e._s(e.cme.files.file_name)+"\n\n                "),e._l(e.cme.files,(function(t){return i("v-list",{key:t,staticClass:"file-listing"},[e._v(" "+e._s(t.file_name)+"\n                  "),i("span",{staticClass:"remove-file",on:{click:function(t){e.removeFile(e.key)}}},[e._v(" Remove ")])])})),e._v(" "),e._l(e.files,(function(t,a){return i("v-card",{key:t.id,staticClass:"file-listing"},[e._v(e._s(t.name)+"\n                  "),i("span",{staticClass:"remove-file",on:{click:function(t){e.removeFile(a)}}},[e._v(" Remove ")])])}))],2),e._v(" "),i("v-flex",{attrs:{xs12:"","text-xs-right":""}},[i("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{disabled:!e.valid,color:"success",type:"submit"},on:{click:function(t){e.validateData(),e.alert=!e.alert,e.dialog1=!0}}},[e._v("\n                  Save\n                ")]),e._v(" "),i("v-dialog",{attrs:{"max-width":"290",lazy:""},model:{value:e.dialog1,callback:function(t){e.dialog1=t},expression:"dialog1"}},[i("v-card",[i("v-card-text",{staticClass:"text-xs-center"},[i("v-progress-circular",{staticClass:"primary--text",attrs:{size:70,indeterminate:""}})],1)],1)],1),e._v(" "),i("v-alert",{attrs:{value:e.alert,icon:"mdi-alert",dismissible:"",outline:"",color:"error",elevation:"2"}},[i("h6",[e._v(" "+e._s(e.output.error)+" "+e._s(e.output.message)+"  ")])])],1)],1)],1)],1)],1)],1)],1)],1)},s=[],l=i("bc3a"),r=i.n(l),n=i("fb3d"),o=i.n(n),c={data:function(){return{editor:o.a,editorConfig:{},valid:!0,titleRules:[function(e){return!!e||"Title is required"}],bodyRules:[function(e){return!!e||"Fill in the required text"}],dialog1:!1,result:"",output:"",alert:!1,cme:{body:"",title:""},file:"",showPreview:!1,imagePreview:"",files:[],resp:""}},watch:{dialog1:function(e){var t=this;e&&setTimeout((function(){return t.dialog1=!1}),8e3)}},created:function(){this.getCME()},methods:{validateData:function(){this.$refs.form.validate()},handleImageChange:function(e){this.file=this.$refs.file.files[0];var t=new FileReader;t.addEventListener("load",function(){this.showPreview=!0,this.imagePreview=t.result}.bind(this),!1),this.file&&/\.(jpe?g|png|gif)$/i.test(this.file.name)&&t.readAsDataURL(this.file)},handleFiles:function(){for(var e=this.$refs.files.files,t=0;t<e.length;t++)this.files.push(e[t])},removeFile:function(e){this.files.splice(e,1)},getCME:function(){var e=this,t=this.$route.params.id;r.a.get("resources/cmes/"+t).then((function(t){e.cme=t.data.data})).catch((function(e){console.log(e.message)}))},editCME:function(e){var t=this;e.preventDefault();for(var i=new FormData,a=0;a<this.files.length;a++){var s=this.files[a];i.append("cme_files["+a+"]",s)}i.append("image_file",this.file),i.append("title",this.cme.title),i.append("body",this.cme.body),i.append("cme_id",this.cme.id),r.a.post("resources/cmes/update",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.output=e.data,t.alert=!0,t.$router.push("/cmes")})).catch((function(e){t.output=e,t.alert=!0}))}}},f=c,u=(i("820f"),i("2877")),d=Object(u["a"])(f,a,s,!1,null,null,null);t["default"]=d.exports},ffa1:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5c179ec0.903b3674.js.map