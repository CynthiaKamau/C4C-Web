{"version":3,"sources":["webpack:///./src/views/AddDepartments.vue?f39b","webpack:///src/views/AddDepartments.vue","webpack:///./src/views/AddDepartments.vue?a244","webpack:///./src/views/AddDepartments.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","on","AddDepartment","_s","user","hcw","facility","name","rules","required","model","value","callback","$$v","expression","staticStyle","downloadLoading","handleDownload","headers","items","rowsPerPageItems","scopedSlots","_u","key","fn","ref","header","domProps","text","item","department_name","created_at","color","bottom","top","left","right","snackbar","pre_out","output","message","errors","$event","staticRenderFns","data","resp","colors","filename","autoWidth","bookType","computed","created","DepartmentList","methods","checkData","id","snack","e","preventDefault","facility_id","excel","export_json_to_excel","tHeader","formatJson","console","log","jsonData","map","loc","component"],"mappings":"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","file":"js/chunk-2d2266de.21bb34d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md10\":\"\"}},[_c('material-card',{attrs:{\"color\":\"green\",\"title\":\"\",\"text\":\"Kindly fill all the required fields\"}},[_c('v-card-text',[_c('div'),_vm._v(\" \"),_c('p',{staticClass:\"display-1 text--primary\"},[_vm._v(\"\\n            Add A New Department\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"text--primary\"},[_vm._v(\"\\n            Kindly fill all the required fields\\n          \")])]),_vm._v(\" \"),_c('v-form',{on:{\"submit\":_vm.AddDepartment}},[_c('v-container',{attrs:{\"py-0\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md5\":\"\"}},[_c('label',[_vm._v(\"Facility:\")]),_vm._v(\" \"),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"x-large\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.user.hcw.facility.name)+\"\\n                \")])],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"md7\":\"\"}},[_c('v-text-field',{staticClass:\"green-input\",attrs:{\"rules\":[_vm.rules.required],\"label\":\"Name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}}),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn',{staticClass:\"mx-0 font-weight-light\",attrs:{\"type\":\"submit\",\"color\":\"success\"}},[_vm._v(\"\\n                  Submit\\n                \")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('material-card',{attrs:{\"color\":\"blue\",\"title\":\"\",\"text\":\"List\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-card-text',[_c('div'),_vm._v(\" \"),_c('p',{staticClass:\"display-1 text--primary\"},[_vm._v(\"\\n              Department List\\n            \")]),_vm._v(\" \"),_c('v-btn',{staticStyle:{\"margin\":\"0 0 20px 20px\"},attrs:{\"loading\":_vm.downloadLoading,\"color\":\"primary\"},on:{\"click\":_vm.handleDownload}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-download\")]),_vm._v(\"Export Excel\\n            \")],1)],1),_vm._v(\" \"),[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"loading\":true,\"rows-per-page-items\":_vm.rowsPerPageItems},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(ref){\nvar header = ref.header;\nreturn [_c('span',{staticClass:\"subheading text--darken-3\",domProps:{\"textContent\":_vm._s(header.text)}})]}},{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(item.department_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.created_at))])]}}])})]],2)],1)],1)],1),_vm._v(\" \"),_c('v-snackbar',{attrs:{\"color\":_vm.color,\"bottom\":_vm.bottom,\"top\":_vm.top,\"left\":_vm.left,\"right\":_vm.right,\"dark\":\"\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('v-icon',{staticClass:\"mr-3\",attrs:{\"color\":\"white\"}},[_vm._v(\"\\n      mdi-bell-plus\\n    \")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.pre_out)+\" \"+_vm._s(_vm.output.message)),_c('br'),_vm._v(\" \"+_vm._s(_vm.output.errors))]),_vm._v(\" \"),_c('v-icon',{attrs:{\"size\":\"16\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n      mdi-close-circle\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    fill-height\n    fluid\n    grid-list-xl>\n    <v-layout\n      justify-center\n      wrap\n    >\n      <v-flex\n        xs12\n        md10\n      >\n        <material-card\n          color=\"green\"\n          title=\"\"\n          text=\"Kindly fill all the required fields\"\n        >\n          <v-card-text>\n            <div/>\n            <p class=\"display-1 text--primary\">\n              Add A New Department\n            </p>\n            <div class=\"text--primary\">\n              Kindly fill all the required fields\n            </div>\n          </v-card-text>\n          <v-form @submit=\"AddDepartment\">\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex\n                  xs12\n                  md5\n                >\n                  <label>Facility:</label>\n                  <v-chip\n                    class=\"ma-2\"\n                    x-large\n                  >\n                    {{ user.hcw.facility.name }}\n                  </v-chip>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md7\n                >\n                  <v-text-field\n                    v-model=\"name\"\n                    :rules=\"[rules.required]\"\n                    label=\"Name\"\n                    class=\"green-input\"/>\n                </v-flex>\n                <v-flex\n                  xs12\n                  md3\n                />\n\n                <v-flex\n                  xs12\n                  md6\n                  text-xs-right\n                >\n                  <v-btn\n                    type=\"submit\"\n                    class=\"mx-0 font-weight-light\"\n                    color=\"success\"\n                  >\n                    Submit\n                  </v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card> <br>\n\n        <material-card\n          color=\"blue\"\n          title=\"\"\n          text=\"List\">\n          <v-layout wrap>\n            <v-card-text>\n              <div/>\n              <p class=\"display-1 text--primary\">\n                Department List\n              </p>\n              <v-btn\n                :loading=\"downloadLoading\"\n                style=\"margin:0 0 20px 20px;\"\n                color=\"primary\"\n                @click=\"handleDownload\">\n                <v-icon left>mdi-download</v-icon>Export Excel\n              </v-btn>\n            </v-card-text>\n            <template>\n              <v-data-table\n                :headers=\"headers\"\n                :items=\"items\"\n                :loading=\"true\"\n                :rows-per-page-items=\"rowsPerPageItems\"\n                class=\"elevation-1\"\n              ><template\n                slot=\"headerCell\"\n                slot-scope=\"{ header }\"\n              >\n                <span\n                  class=\"subheading text--darken-3\"\n                  v-text=\"header.text\"\n                />\n              </template>\n                <template\n                  slot=\"items\"\n                  slot-scope=\"{ item }\"\n                >\n                  <td>{{ item.department_name }}</td>\n                  <td>{{ item.created_at }}</td>\n                </template>\n              </v-data-table>\n            </template>\n          </v-layout>\n        </material-card>\n      </v-flex>\n\n    </v-layout>\n    <v-snackbar\n      :color=\"color\"\n      :bottom=\"bottom\"\n      :top=\"top\"\n      :left=\"left\"\n      :right=\"right\"\n      v-model=\"snackbar\"\n      dark\n    >\n      <v-icon\n        color=\"white\"\n        class=\"mr-3\"\n      >\n        mdi-bell-plus\n      </v-icon>\n      <div>{{ pre_out }} {{ output.message }}<br> {{ output.errors }}</div>\n      <v-icon\n        size=\"16\"\n        @click=\"snackbar = false\"\n      >\n        mdi-close-circle\n      </v-icon>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapGetters } from 'vuex'\nexport default {\n  //\n  data () {\n    return {\n      rowsPerPageItems: [50, 250, 500],\n      name: '',\n      headers: [\n        {\n          sortable: false,\n          text: 'Name',\n          value: 'department_name'\n        },\n        {\n          sortable: false,\n          text: 'Created On',\n          value: 'created_at'\n        }\n      ],\n      items: [],\n      rules: {\n        required: value => !!value || 'Required.'\n      },\n      resp: false,\n      output: '',\n      pre_out: '',\n      color: null,\n      colors: [\n        'success',\n        'error'\n      ],\n      top: true,\n      bottom: false,\n      left: false,\n      right: false,\n      snackbar: false,\n      downloadLoading: false,\n      filename: 'Departments',\n      autoWidth: true,\n      bookType: 'xlsx'\n    }\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  created () {\n    this.DepartmentList()\n  },\n  methods: {\n    checkData () {\n      if (this.user.hcw.facility.id == '') {\n        this.pre_out = 'User not attached to a facility'\n        this.snack('top', 'center')\n        return false\n      } else if (this.name == '') {\n        this.pre_out = 'Provide department name to proceed'\n        this.snack('top', 'center')\n        return false\n      } else { return true }\n    },\n    DepartmentList () {\n      axios.get(`facility_departments/${this.user.hcw.facility.id}`)\n        .then((exp) => {\n          this.items = exp.data.data\n        })\n        .catch(error => console.log(error.message))\n    },\n    AddDepartment (e) {\n      e.preventDefault()\n      let id = this.user.hcw.facility.id\n      if (this.checkData()) {\n        axios.post('facilities/department/add', {\n          facility_id: id,\n          department_name: this.name\n        })\n          .then((response) => {\n            this.output = response.data\n            this.resp = Boolean(response.data.success)\n            this.snack('top', 'center')\n            this.items = []\n            this.DepartmentList()\n          })\n          .catch((error) => {\n            this.output = error\n            this.snack('top', 'center')\n          })\n      }\n    },\n    handleDownload () {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = ['Name', 'Created On']\n        const filterVal = ['department_name', 'created_at']\n        const list = this.items\n\n        const data = this.formatJson(filterVal, list)\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: this.filename,\n          autoWidth: this.autoWidth,\n          bookType: this.bookType\n        })\n        this.downloadLoading = false\n      })\n    },\n    formatJson (filterVal, jsonData) {\n      console.log(jsonData)\n      return jsonData.map(v => filterVal.map(j => {\n        if (j === 'timestamp') {\n          return parseTime(v[j])\n        } else {\n          console.log(jsonData)\n          return v[j]\n        }\n      }))\n    },\n    snack (...args) {\n      this.top = false\n      this.bottom = false\n      this.left = false\n      this.right = false\n\n      for (const loc of args) {\n        this[loc] = true\n      }\n      if (this.resp) {\n        this.color = this.colors[0]\n      } else {\n        this.color = this.colors[1]\n      }\n      this.snackbar = true\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDepartments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddDepartments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddDepartments.vue?vue&type=template&id=2abb0cd4&\"\nimport script from \"./AddDepartments.vue?vue&type=script&lang=js&\"\nexport * from \"./AddDepartments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}